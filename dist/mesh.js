!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.meshjs=e():t.meshjs=e()}(window,function(){return function(t){var e=window.webpackHotUpdatemeshjs;window.webpackHotUpdatemeshjs=function(t,n){!function(t,e){if(!b[t]||!M[t])return;for(var n in M[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(p[n]=e[n]);0==--m&&0===x&&_()}(t,n),e&&e(t,n)};var n,r=!0,i="5c49d0a49b35b03b9c2a",a=1e4,o={},u=[],s=[];function c(t){var e=L[t];if(!e)return k;var r=function(r){return e.hot.active?(L[r]?-1===L[r].parents.indexOf(t)&&L[r].parents.push(t):(u=[t],n=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+t),u=[]),k(r)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return k[t]},set:function(e){k[t]=e}}};for(var a in k)Object.prototype.hasOwnProperty.call(k,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(r,a,i(a));return r.e=function(t){return"ready"===h&&d("prepare"),x++,k.e(t).then(e,function(t){throw e(),t});function e(){x--,"prepare"===h&&(y[t]||O(t),0===x&&0===m&&_())}},r.t=function(t,e){return 1&e&&(t=r(t)),k.t(t,-2&e)},r}function f(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:E,apply:S,status:function(t){if(!t)return h;l.push(t)},addStatusHandler:function(t){l.push(t)},removeStatusHandler:function(t){var e=l.indexOf(t);e>=0&&l.splice(e,1)},data:o[t]};return n=void 0,e}var l=[],h="idle";function d(t){h=t;for(var e=0;e<l.length;e++)l[e].call(null,t)}var v,p,g,m=0,x=0,y={},M={},b={};function w(t){return+t+""===t?+t:t}function E(t){if("idle"!==h)throw new Error("check() is only allowed in idle status");return r=t,d("check"),(e=a,e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=k.p+""+i+".hot-update.json";r.open("GET",a,!0),r.timeout=e,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(t){return void n(t)}t(e)}}})).then(function(t){if(!t)return d("idle"),null;M={},y={},b=t.c,g=t.h,d("prepare");var e=new Promise(function(t,e){v={resolve:t,reject:e}});p={};return O(0),"prepare"===h&&0===x&&0===m&&_(),e});var e}function O(t){b[t]?(M[t]=!0,m++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=k.p+""+t+"."+i+".hot-update.js",document.head.appendChild(e)}(t)):y[t]=!0}function _(){d("ready");var t=v;if(v=null,t)if(r)Promise.resolve().then(function(){return S(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&e.push(w(n));t.resolve(e)}}function S(e){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var n,r,a,s,c;function f(t){for(var e=[t],n={},r=e.map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),a=i.id,o=i.chain;if((s=L[a])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:a};if(s.hot._main)return{type:"unaccepted",chain:o,moduleId:a};for(var u=0;u<s.parents.length;u++){var c=s.parents[u],f=L[c];if(f){if(f.hot._declinedDependencies[a])return{type:"declined",chain:o.concat([c]),moduleId:a,parentId:c};-1===e.indexOf(c)&&(f.hot._acceptedDependencies[a]?(n[c]||(n[c]=[]),l(n[c],[a])):(delete n[c],e.push(c),r.push({chain:o.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var v={},m=[],x={},y=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var M in p)if(Object.prototype.hasOwnProperty.call(p,M)){var E;c=w(M);var O=!1,_=!1,S=!1,A="";switch((E=p[M]?f(c):{type:"disposed",moduleId:M}).chain&&(A="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(O=new Error("Aborted because of self decline: "+E.moduleId+A));break;case"declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+A));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(E),e.ignoreUnaccepted||(O=new Error("Aborted because "+c+" is not accepted"+A));break;case"accepted":e.onAccepted&&e.onAccepted(E),_=!0;break;case"disposed":e.onDisposed&&e.onDisposed(E),S=!0;break;default:throw new Error("Unexception type "+E.type)}if(O)return d("abort"),Promise.reject(O);if(_)for(c in x[c]=p[c],l(m,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,c)&&(v[c]||(v[c]=[]),l(v[c],E.outdatedDependencies[c]));S&&(l(m,[E.moduleId]),x[c]=y)}var R,T=[];for(r=0;r<m.length;r++)c=m[r],L[c]&&L[c].hot._selfAccepted&&x[c]!==y&&T.push({module:c,errorHandler:L[c].hot._selfAccepted});d("dispose"),Object.keys(b).forEach(function(t){!1===b[t]&&function(t){delete installedChunks[t]}(t)});for(var D,q,U=m.slice();U.length>0;)if(c=U.pop(),s=L[c]){var C={},I=s.hot._disposeHandlers;for(a=0;a<I.length;a++)(n=I[a])(C);for(o[c]=C,s.hot.active=!1,delete L[c],delete v[c],a=0;a<s.children.length;a++){var P=L[s.children[a]];P&&((R=P.parents.indexOf(c))>=0&&P.parents.splice(R,1))}}for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(s=L[c]))for(q=v[c],a=0;a<q.length;a++)D=q[a],(R=s.children.indexOf(D))>=0&&s.children.splice(R,1);for(c in d("apply"),i=g,x)Object.prototype.hasOwnProperty.call(x,c)&&(t[c]=x[c]);var F=null;for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(s=L[c])){q=v[c];var N=[];for(r=0;r<q.length;r++)if(D=q[r],n=s.hot._acceptedDependencies[D]){if(-1!==N.indexOf(n))continue;N.push(n)}for(r=0;r<N.length;r++){n=N[r];try{n(q)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:q[r],error:t}),e.ignoreErrored||F||(F=t)}}}for(r=0;r<T.length;r++){var B=T[r];c=B.module,u=[c];try{k(c)}catch(t){if("function"==typeof B.errorHandler)try{B.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:t}),e.ignoreErrored||F||(F=n),F||(F=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||F||(F=t)}}return F?(d("fail"),Promise.reject(F)):(d("idle"),new Promise(function(t){t(m)}))}var L={};function k(e){if(L[e])return L[e].exports;var n=L[e]={i:e,l:!1,exports:{},hot:f(e),parents:(s=u,u=[],s),children:[]};return t[e].call(n.exports,n,n.exports,c(e)),n.l=!0,n.exports}return k.m=t,k.c=L,k.d=function(t,e,n){k.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},k.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},k.t=function(t,e){if(1&e&&(t=k(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)k.d(n,r,function(e){return t[e]}.bind(null,r));return n},k.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return k.d(e,"a",e),e},k.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},k.p="/js/",k.h=function(){return i},c(40)(k.s=40)}([function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"EPSILON",function(){return d}),n.d(r,"ARRAY_TYPE",function(){return v}),n.d(r,"RANDOM",function(){return p}),n.d(r,"setMatrixArrayType",function(){return g}),n.d(r,"toRadian",function(){return x}),n.d(r,"equals",function(){return y});var i={};n.r(i),n.d(i,"create",function(){return M}),n.d(i,"clone",function(){return b}),n.d(i,"copy",function(){return w}),n.d(i,"identity",function(){return E}),n.d(i,"fromValues",function(){return O}),n.d(i,"set",function(){return _}),n.d(i,"transpose",function(){return S}),n.d(i,"invert",function(){return L}),n.d(i,"adjoint",function(){return k}),n.d(i,"determinant",function(){return A}),n.d(i,"multiply",function(){return R}),n.d(i,"rotate",function(){return T}),n.d(i,"scale",function(){return D}),n.d(i,"fromRotation",function(){return q}),n.d(i,"fromScaling",function(){return U}),n.d(i,"str",function(){return C}),n.d(i,"frob",function(){return I}),n.d(i,"LDU",function(){return P}),n.d(i,"add",function(){return F}),n.d(i,"subtract",function(){return N}),n.d(i,"exactEquals",function(){return B}),n.d(i,"equals",function(){return H}),n.d(i,"multiplyScalar",function(){return j}),n.d(i,"multiplyScalarAndAdd",function(){return z}),n.d(i,"mul",function(){return G}),n.d(i,"sub",function(){return W});var a={};n.r(a),n.d(a,"create",function(){return V}),n.d(a,"clone",function(){return Y}),n.d(a,"copy",function(){return X}),n.d(a,"identity",function(){return Q}),n.d(a,"fromValues",function(){return Z}),n.d(a,"set",function(){return J}),n.d(a,"invert",function(){return $}),n.d(a,"determinant",function(){return K}),n.d(a,"multiply",function(){return tt}),n.d(a,"rotate",function(){return et}),n.d(a,"scale",function(){return nt}),n.d(a,"translate",function(){return rt}),n.d(a,"fromRotation",function(){return it}),n.d(a,"fromScaling",function(){return at}),n.d(a,"fromTranslation",function(){return ot}),n.d(a,"str",function(){return ut}),n.d(a,"frob",function(){return st}),n.d(a,"add",function(){return ct}),n.d(a,"subtract",function(){return ft}),n.d(a,"multiplyScalar",function(){return lt}),n.d(a,"multiplyScalarAndAdd",function(){return ht}),n.d(a,"exactEquals",function(){return dt}),n.d(a,"equals",function(){return vt}),n.d(a,"mul",function(){return pt}),n.d(a,"sub",function(){return gt});var o={};n.r(o),n.d(o,"create",function(){return mt}),n.d(o,"fromMat4",function(){return xt}),n.d(o,"clone",function(){return yt}),n.d(o,"copy",function(){return Mt}),n.d(o,"fromValues",function(){return bt}),n.d(o,"set",function(){return wt}),n.d(o,"identity",function(){return Et}),n.d(o,"transpose",function(){return Ot}),n.d(o,"invert",function(){return _t}),n.d(o,"adjoint",function(){return St}),n.d(o,"determinant",function(){return Lt}),n.d(o,"multiply",function(){return kt}),n.d(o,"translate",function(){return At}),n.d(o,"rotate",function(){return Rt}),n.d(o,"scale",function(){return Tt}),n.d(o,"fromTranslation",function(){return Dt}),n.d(o,"fromRotation",function(){return qt}),n.d(o,"fromScaling",function(){return Ut}),n.d(o,"fromMat2d",function(){return Ct}),n.d(o,"fromQuat",function(){return It}),n.d(o,"normalFromMat4",function(){return Pt}),n.d(o,"projection",function(){return Ft}),n.d(o,"str",function(){return Nt}),n.d(o,"frob",function(){return Bt}),n.d(o,"add",function(){return Ht}),n.d(o,"subtract",function(){return jt}),n.d(o,"multiplyScalar",function(){return zt}),n.d(o,"multiplyScalarAndAdd",function(){return Gt}),n.d(o,"exactEquals",function(){return Wt}),n.d(o,"equals",function(){return Vt}),n.d(o,"mul",function(){return Yt}),n.d(o,"sub",function(){return Xt});var u={};n.r(u),n.d(u,"create",function(){return Qt}),n.d(u,"clone",function(){return Zt}),n.d(u,"copy",function(){return Jt}),n.d(u,"fromValues",function(){return $t}),n.d(u,"set",function(){return Kt}),n.d(u,"identity",function(){return te}),n.d(u,"transpose",function(){return ee}),n.d(u,"invert",function(){return ne}),n.d(u,"adjoint",function(){return re}),n.d(u,"determinant",function(){return ie}),n.d(u,"multiply",function(){return ae}),n.d(u,"translate",function(){return oe}),n.d(u,"scale",function(){return ue}),n.d(u,"rotate",function(){return se}),n.d(u,"rotateX",function(){return ce}),n.d(u,"rotateY",function(){return fe}),n.d(u,"rotateZ",function(){return le}),n.d(u,"fromTranslation",function(){return he}),n.d(u,"fromScaling",function(){return de}),n.d(u,"fromRotation",function(){return ve}),n.d(u,"fromXRotation",function(){return pe}),n.d(u,"fromYRotation",function(){return ge}),n.d(u,"fromZRotation",function(){return me}),n.d(u,"fromRotationTranslation",function(){return xe}),n.d(u,"fromQuat2",function(){return ye}),n.d(u,"getTranslation",function(){return Me}),n.d(u,"getScaling",function(){return be}),n.d(u,"getRotation",function(){return we}),n.d(u,"fromRotationTranslationScale",function(){return Ee}),n.d(u,"fromRotationTranslationScaleOrigin",function(){return Oe}),n.d(u,"fromQuat",function(){return _e}),n.d(u,"frustum",function(){return Se}),n.d(u,"perspective",function(){return Le}),n.d(u,"perspectiveFromFieldOfView",function(){return ke}),n.d(u,"ortho",function(){return Ae}),n.d(u,"lookAt",function(){return Re}),n.d(u,"targetTo",function(){return Te}),n.d(u,"str",function(){return De}),n.d(u,"frob",function(){return qe}),n.d(u,"add",function(){return Ue}),n.d(u,"subtract",function(){return Ce}),n.d(u,"multiplyScalar",function(){return Ie}),n.d(u,"multiplyScalarAndAdd",function(){return Pe}),n.d(u,"exactEquals",function(){return Fe}),n.d(u,"equals",function(){return Ne}),n.d(u,"mul",function(){return Be}),n.d(u,"sub",function(){return He});var s={};n.r(s),n.d(s,"create",function(){return je}),n.d(s,"clone",function(){return ze}),n.d(s,"length",function(){return Ge}),n.d(s,"fromValues",function(){return We}),n.d(s,"copy",function(){return Ve}),n.d(s,"set",function(){return Ye}),n.d(s,"add",function(){return Xe}),n.d(s,"subtract",function(){return Qe}),n.d(s,"multiply",function(){return Ze}),n.d(s,"divide",function(){return Je}),n.d(s,"ceil",function(){return $e}),n.d(s,"floor",function(){return Ke}),n.d(s,"min",function(){return tn}),n.d(s,"max",function(){return en}),n.d(s,"round",function(){return nn}),n.d(s,"scale",function(){return rn}),n.d(s,"scaleAndAdd",function(){return an}),n.d(s,"distance",function(){return on}),n.d(s,"squaredDistance",function(){return un}),n.d(s,"squaredLength",function(){return sn}),n.d(s,"negate",function(){return cn}),n.d(s,"inverse",function(){return fn}),n.d(s,"normalize",function(){return ln}),n.d(s,"dot",function(){return hn}),n.d(s,"cross",function(){return dn}),n.d(s,"lerp",function(){return vn}),n.d(s,"hermite",function(){return pn}),n.d(s,"bezier",function(){return gn}),n.d(s,"random",function(){return mn}),n.d(s,"transformMat4",function(){return xn}),n.d(s,"transformMat3",function(){return yn}),n.d(s,"transformQuat",function(){return Mn}),n.d(s,"rotateX",function(){return bn}),n.d(s,"rotateY",function(){return wn}),n.d(s,"rotateZ",function(){return En}),n.d(s,"angle",function(){return On}),n.d(s,"zero",function(){return _n}),n.d(s,"str",function(){return Sn}),n.d(s,"exactEquals",function(){return Ln}),n.d(s,"equals",function(){return kn}),n.d(s,"sub",function(){return Rn}),n.d(s,"mul",function(){return Tn}),n.d(s,"div",function(){return Dn}),n.d(s,"dist",function(){return qn}),n.d(s,"sqrDist",function(){return Un}),n.d(s,"len",function(){return Cn}),n.d(s,"sqrLen",function(){return In}),n.d(s,"forEach",function(){return Pn});var c={};n.r(c),n.d(c,"create",function(){return Fn}),n.d(c,"clone",function(){return Nn}),n.d(c,"fromValues",function(){return Bn}),n.d(c,"copy",function(){return Hn}),n.d(c,"set",function(){return jn}),n.d(c,"add",function(){return zn}),n.d(c,"subtract",function(){return Gn}),n.d(c,"multiply",function(){return Wn}),n.d(c,"divide",function(){return Vn}),n.d(c,"ceil",function(){return Yn}),n.d(c,"floor",function(){return Xn}),n.d(c,"min",function(){return Qn}),n.d(c,"max",function(){return Zn}),n.d(c,"round",function(){return Jn}),n.d(c,"scale",function(){return $n}),n.d(c,"scaleAndAdd",function(){return Kn}),n.d(c,"distance",function(){return tr}),n.d(c,"squaredDistance",function(){return er}),n.d(c,"length",function(){return nr}),n.d(c,"squaredLength",function(){return rr}),n.d(c,"negate",function(){return ir}),n.d(c,"inverse",function(){return ar}),n.d(c,"normalize",function(){return or}),n.d(c,"dot",function(){return ur}),n.d(c,"cross",function(){return sr}),n.d(c,"lerp",function(){return cr}),n.d(c,"random",function(){return fr}),n.d(c,"transformMat4",function(){return lr}),n.d(c,"transformQuat",function(){return hr}),n.d(c,"zero",function(){return dr}),n.d(c,"str",function(){return vr}),n.d(c,"exactEquals",function(){return pr}),n.d(c,"equals",function(){return gr}),n.d(c,"sub",function(){return mr}),n.d(c,"mul",function(){return xr}),n.d(c,"div",function(){return yr}),n.d(c,"dist",function(){return Mr}),n.d(c,"sqrDist",function(){return br}),n.d(c,"len",function(){return wr}),n.d(c,"sqrLen",function(){return Er}),n.d(c,"forEach",function(){return Or});var f={};n.r(f),n.d(f,"create",function(){return _r}),n.d(f,"identity",function(){return Sr}),n.d(f,"setAxisAngle",function(){return Lr}),n.d(f,"getAxisAngle",function(){return kr}),n.d(f,"multiply",function(){return Ar}),n.d(f,"rotateX",function(){return Rr}),n.d(f,"rotateY",function(){return Tr}),n.d(f,"rotateZ",function(){return Dr}),n.d(f,"calculateW",function(){return qr}),n.d(f,"slerp",function(){return Ur}),n.d(f,"random",function(){return Cr}),n.d(f,"invert",function(){return Ir}),n.d(f,"conjugate",function(){return Pr}),n.d(f,"fromMat3",function(){return Fr}),n.d(f,"fromEuler",function(){return Nr}),n.d(f,"str",function(){return Br}),n.d(f,"clone",function(){return Yr}),n.d(f,"fromValues",function(){return Xr}),n.d(f,"copy",function(){return Qr}),n.d(f,"set",function(){return Zr}),n.d(f,"add",function(){return Jr}),n.d(f,"mul",function(){return $r}),n.d(f,"scale",function(){return Kr}),n.d(f,"dot",function(){return ti}),n.d(f,"lerp",function(){return ei}),n.d(f,"length",function(){return ni}),n.d(f,"len",function(){return ri}),n.d(f,"squaredLength",function(){return ii}),n.d(f,"sqrLen",function(){return ai}),n.d(f,"normalize",function(){return oi}),n.d(f,"exactEquals",function(){return ui}),n.d(f,"equals",function(){return si}),n.d(f,"rotationTo",function(){return ci}),n.d(f,"sqlerp",function(){return fi}),n.d(f,"setAxes",function(){return li});var l={};n.r(l),n.d(l,"create",function(){return hi}),n.d(l,"clone",function(){return di}),n.d(l,"fromValues",function(){return vi}),n.d(l,"fromRotationTranslationValues",function(){return pi}),n.d(l,"fromRotationTranslation",function(){return gi}),n.d(l,"fromTranslation",function(){return mi}),n.d(l,"fromRotation",function(){return xi}),n.d(l,"fromMat4",function(){return yi}),n.d(l,"copy",function(){return Mi}),n.d(l,"identity",function(){return bi}),n.d(l,"set",function(){return wi}),n.d(l,"getReal",function(){return Ei}),n.d(l,"getDual",function(){return Oi}),n.d(l,"setReal",function(){return _i}),n.d(l,"setDual",function(){return Si}),n.d(l,"getTranslation",function(){return Li}),n.d(l,"translate",function(){return ki}),n.d(l,"rotateX",function(){return Ai}),n.d(l,"rotateY",function(){return Ri}),n.d(l,"rotateZ",function(){return Ti}),n.d(l,"rotateByQuatAppend",function(){return Di}),n.d(l,"rotateByQuatPrepend",function(){return qi}),n.d(l,"rotateAroundAxis",function(){return Ui}),n.d(l,"add",function(){return Ci}),n.d(l,"multiply",function(){return Ii}),n.d(l,"mul",function(){return Pi}),n.d(l,"scale",function(){return Fi}),n.d(l,"dot",function(){return Ni}),n.d(l,"lerp",function(){return Bi}),n.d(l,"invert",function(){return Hi}),n.d(l,"conjugate",function(){return ji}),n.d(l,"length",function(){return zi}),n.d(l,"len",function(){return Gi}),n.d(l,"squaredLength",function(){return Wi}),n.d(l,"sqrLen",function(){return Vi}),n.d(l,"normalize",function(){return Yi}),n.d(l,"str",function(){return Xi}),n.d(l,"exactEquals",function(){return Qi}),n.d(l,"equals",function(){return Zi});var h={};n.r(h),n.d(h,"create",function(){return Ji}),n.d(h,"clone",function(){return $i}),n.d(h,"fromValues",function(){return Ki}),n.d(h,"copy",function(){return ta}),n.d(h,"set",function(){return ea}),n.d(h,"add",function(){return na}),n.d(h,"subtract",function(){return ra}),n.d(h,"multiply",function(){return ia}),n.d(h,"divide",function(){return aa}),n.d(h,"ceil",function(){return oa}),n.d(h,"floor",function(){return ua}),n.d(h,"min",function(){return sa}),n.d(h,"max",function(){return ca}),n.d(h,"round",function(){return fa}),n.d(h,"scale",function(){return la}),n.d(h,"scaleAndAdd",function(){return ha}),n.d(h,"distance",function(){return da}),n.d(h,"squaredDistance",function(){return va}),n.d(h,"length",function(){return pa}),n.d(h,"squaredLength",function(){return ga}),n.d(h,"negate",function(){return ma}),n.d(h,"inverse",function(){return xa}),n.d(h,"normalize",function(){return ya}),n.d(h,"dot",function(){return Ma}),n.d(h,"cross",function(){return ba}),n.d(h,"lerp",function(){return wa}),n.d(h,"random",function(){return Ea}),n.d(h,"transformMat2",function(){return Oa}),n.d(h,"transformMat2d",function(){return _a}),n.d(h,"transformMat3",function(){return Sa}),n.d(h,"transformMat4",function(){return La}),n.d(h,"rotate",function(){return ka}),n.d(h,"angle",function(){return Aa}),n.d(h,"zero",function(){return Ra}),n.d(h,"str",function(){return Ta}),n.d(h,"exactEquals",function(){return Da}),n.d(h,"equals",function(){return qa}),n.d(h,"len",function(){return Ua}),n.d(h,"sub",function(){return Ca}),n.d(h,"mul",function(){return Ia}),n.d(h,"div",function(){return Pa}),n.d(h,"dist",function(){return Fa}),n.d(h,"sqrDist",function(){return Na}),n.d(h,"sqrLen",function(){return Ba}),n.d(h,"forEach",function(){return Ha});var d=1e-6,v="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random;function g(t){v=t}var m=Math.PI/180;function x(t){return t*m}function y(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function M(){var t=new v(4);return v!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function b(t){var e=new v(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function O(t,e,n,r){var i=new v(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function _(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function S(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function L(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function k(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function A(t){return t[0]*t[3]-t[2]*t[1]}function R(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*c+a*f,t[3]=i*c+o*f,t}function T(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*-u+a*s,t[3]=i*-u+o*s,t}function D(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=i*u,t[2]=a*s,t[3]=o*s,t}function q(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function U(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function C(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function I(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function P(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function F(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function N(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function B(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function H(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}function j(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var G=R,W=N;function V(){var t=new v(6);return v!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function Y(t){var e=new v(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Q(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Z(t,e,n,r,i,a){var o=new v(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function J(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t}function $(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=n*a-r*i;return s?(s=1/s,t[0]=a*s,t[1]=-r*s,t[2]=-i*s,t[3]=n*s,t[4]=(i*u-a*o)*s,t[5]=(r*o-n*u)*s,t):null}function K(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],f=n[1],l=n[2],h=n[3],d=n[4],v=n[5];return t[0]=r*c+a*f,t[1]=i*c+o*f,t[2]=r*l+a*h,t[3]=i*l+o*h,t[4]=r*d+a*v+u,t[5]=i*d+o*v+s,t}function et(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+a*c,t[1]=i*f+o*c,t[2]=r*-c+a*f,t[3]=i*-c+o*f,t[4]=u,t[5]=s,t}function nt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=i*c,t[2]=a*f,t[3]=o*f,t[4]=u,t[5]=s,t}function rt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*c+a*f+u,t[5]=i*c+o*f+s,t}function it(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function ft(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function ht(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function vt(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],v=e[5];return Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-v)<=d*Math.max(1,Math.abs(u),Math.abs(v))}var pt=tt,gt=ft;function mt(){var t=new v(9);return v!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function yt(t){var e=new v(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function bt(t,e,n,r,i,a,o,u,s){var c=new v(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=u,c[8]=s,c}function wt(t,e,n,r,i,a,o,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function _t(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*o-u*c,h=-f*a+u*s,d=c*a-o*s,v=n*l+r*h+i*d;return v?(v=1/v,t[0]=l*v,t[1]=(-f*r+i*c)*v,t[2]=(u*r-i*o)*v,t[3]=h*v,t[4]=(f*n-i*s)*v,t[5]=(-u*n+i*a)*v,t[6]=d*v,t[7]=(-c*n+r*s)*v,t[8]=(o*n-r*a)*v,t):null}function St(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=o*f-u*c,t[1]=i*c-r*f,t[2]=r*u-i*o,t[3]=u*s-a*f,t[4]=n*f-i*s,t[5]=i*a-n*u,t[6]=a*c-o*s,t[7]=r*s-n*c,t[8]=n*o-r*a,t}function Lt(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+n*(-c*i+o*u)+r*(s*i-a*u)}function kt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],v=n[2],p=n[3],g=n[4],m=n[5],x=n[6],y=n[7],M=n[8];return t[0]=h*r+d*o+v*c,t[1]=h*i+d*u+v*f,t[2]=h*a+d*s+v*l,t[3]=p*r+g*o+m*c,t[4]=p*i+g*u+m*f,t[5]=p*a+g*s+m*l,t[6]=x*r+y*o+M*c,t[7]=x*i+y*u+M*f,t[8]=x*a+y*s+M*l,t}function At(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+d*o+c,t[7]=h*i+d*u+f,t[8]=h*a+d*s+l,t}function Rt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*o,t[1]=d*i+h*u,t[2]=d*a+h*s,t[3]=d*o-h*r,t[4]=d*u-h*i,t[5]=d*s-h*a,t[6]=c,t[7]=f,t[8]=l,t}function Tt(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Dt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function qt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ut(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ct(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function It(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,d=i*u,v=i*s,p=a*o,g=a*u,m=a*s;return t[0]=1-l-v,t[3]=f-m,t[6]=h+g,t[1]=f+m,t[4]=1-c-v,t[7]=d-p,t[2]=h-g,t[5]=d+p,t[8]=1-c-l,t}function Pt(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],x=n*u-r*o,y=n*s-i*o,M=n*c-a*o,b=r*s-i*u,w=r*c-a*u,E=i*c-a*s,O=f*p-l*v,_=f*g-h*v,S=f*m-d*v,L=l*g-h*p,k=l*m-d*p,A=h*m-d*g,R=x*A-y*k+M*L+b*S-w*_+E*O;return R?(R=1/R,t[0]=(u*A-s*k+c*L)*R,t[1]=(s*S-o*A-c*_)*R,t[2]=(o*k-u*S+c*O)*R,t[3]=(i*k-r*A-a*L)*R,t[4]=(n*A-i*S+a*_)*R,t[5]=(r*S-n*k-a*O)*R,t[6]=(p*E-g*w+m*b)*R,t[7]=(g*M-v*E-m*y)*R,t[8]=(v*w-p*M+m*x)*R,t):null}function Ft(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Nt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Bt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Ht(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function jt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function zt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Gt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Wt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Vt(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=e[0],h=e[1],v=e[2],p=e[3],g=e[4],m=e[5],x=e[6],y=e[7],M=e[8];return Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-v)<=d*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-g)<=d*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-x)<=d*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-y)<=d*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-M)<=d*Math.max(1,Math.abs(f),Math.abs(M))}var Yt=kt,Xt=jt;function Qt(){var t=new v(16);return v!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Zt(t){var e=new v(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Jt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $t(t,e,n,r,i,a,o,u,s,c,f,l,h,d,p,g){var m=new v(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=o,m[7]=u,m[8]=s,m[9]=c,m[10]=f,m[11]=l,m[12]=h,m[13]=d,m[14]=p,m[15]=g,m}function Kt(t,e,n,r,i,a,o,u,s,c,f,l,h,d,v,p,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=v,t[14]=p,t[15]=g,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],x=n*u-r*o,y=n*s-i*o,M=n*c-a*o,b=r*s-i*u,w=r*c-a*u,E=i*c-a*s,O=f*p-l*v,_=f*g-h*v,S=f*m-d*v,L=l*g-h*p,k=l*m-d*p,A=h*m-d*g,R=x*A-y*k+M*L+b*S-w*_+E*O;return R?(R=1/R,t[0]=(u*A-s*k+c*L)*R,t[1]=(i*k-r*A-a*L)*R,t[2]=(p*E-g*w+m*b)*R,t[3]=(h*w-l*E-d*b)*R,t[4]=(s*S-o*A-c*_)*R,t[5]=(n*A-i*S+a*_)*R,t[6]=(g*M-v*E-m*y)*R,t[7]=(f*E-h*M+d*y)*R,t[8]=(o*k-u*S+c*O)*R,t[9]=(r*S-n*k-a*O)*R,t[10]=(v*w-p*M+m*x)*R,t[11]=(l*M-f*w-d*x)*R,t[12]=(u*_-o*L-s*O)*R,t[13]=(n*L-r*_+i*O)*R,t[14]=(p*y-v*b-g*x)*R,t[15]=(f*b-l*y+h*x)*R,t):null}function re(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15];return t[0]=u*(h*m-d*g)-l*(s*m-c*g)+p*(s*d-c*h),t[1]=-(r*(h*m-d*g)-l*(i*m-a*g)+p*(i*d-a*h)),t[2]=r*(s*m-c*g)-u*(i*m-a*g)+p*(i*c-a*s),t[3]=-(r*(s*d-c*h)-u*(i*d-a*h)+l*(i*c-a*s)),t[4]=-(o*(h*m-d*g)-f*(s*m-c*g)+v*(s*d-c*h)),t[5]=n*(h*m-d*g)-f*(i*m-a*g)+v*(i*d-a*h),t[6]=-(n*(s*m-c*g)-o*(i*m-a*g)+v*(i*c-a*s)),t[7]=n*(s*d-c*h)-o*(i*d-a*h)+f*(i*c-a*s),t[8]=o*(l*m-d*p)-f*(u*m-c*p)+v*(u*d-c*l),t[9]=-(n*(l*m-d*p)-f*(r*m-a*p)+v*(r*d-a*l)),t[10]=n*(u*m-c*p)-o*(r*m-a*p)+v*(r*c-a*u),t[11]=-(n*(u*d-c*l)-o*(r*d-a*l)+f*(r*c-a*u)),t[12]=-(o*(l*g-h*p)-f*(u*g-s*p)+v*(u*h-s*l)),t[13]=n*(l*g-h*p)-f*(r*g-i*p)+v*(r*h-i*l),t[14]=-(n*(u*g-s*p)-o*(r*g-i*p)+v*(r*s-i*u)),t[15]=n*(u*h-s*l)-o*(r*h-i*l)+f*(r*s-i*u),t}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],v=t[13],p=t[14],g=t[15];return(e*o-n*a)*(l*g-h*p)-(e*u-r*a)*(f*g-h*v)+(e*s-i*a)*(f*p-l*v)+(n*u-r*o)*(c*g-h*d)-(n*s-i*o)*(c*p-l*d)+(r*s-i*u)*(c*v-f*d)}function ae(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],p=e[12],g=e[13],m=e[14],x=e[15],y=n[0],M=n[1],b=n[2],w=n[3];return t[0]=y*r+M*u+b*l+w*p,t[1]=y*i+M*s+b*h+w*g,t[2]=y*a+M*c+b*d+w*m,t[3]=y*o+M*f+b*v+w*x,y=n[4],M=n[5],b=n[6],w=n[7],t[4]=y*r+M*u+b*l+w*p,t[5]=y*i+M*s+b*h+w*g,t[6]=y*a+M*c+b*d+w*m,t[7]=y*o+M*f+b*v+w*x,y=n[8],M=n[9],b=n[10],w=n[11],t[8]=y*r+M*u+b*l+w*p,t[9]=y*i+M*s+b*h+w*g,t[10]=y*a+M*c+b*d+w*m,t[11]=y*o+M*f+b*v+w*x,y=n[12],M=n[13],b=n[14],w=n[15],t[12]=y*r+M*u+b*l+w*p,t[13]=y*i+M*s+b*h+w*g,t[14]=y*a+M*c+b*d+w*m,t[15]=y*o+M*f+b*v+w*x,t}function oe(t,e,n){var r,i,a,o,u,s,c,f,l,h,d,v,p=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*p+e[4]*g+e[8]*m+e[12],t[13]=e[1]*p+e[5]*g+e[9]*m+e[13],t[14]=e[2]*p+e[6]*g+e[10]*m+e[14],t[15]=e[3]*p+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=v,t[12]=r*p+u*g+l*m+e[12],t[13]=i*p+s*g+h*m+e[13],t[14]=a*p+c*g+d*m+e[14],t[15]=o*p+f*g+v*m+e[15]),t}function ue(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function se(t,e,n,r){var i,a,o,u,s,c,f,l,h,v,p,g,m,x,y,M,b,w,E,O,_,S,L,k,A=r[0],R=r[1],T=r[2],D=Math.sqrt(A*A+R*R+T*T);return D<d?null:(A*=D=1/D,R*=D,T*=D,i=Math.sin(n),o=1-(a=Math.cos(n)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],h=e[5],v=e[6],p=e[7],g=e[8],m=e[9],x=e[10],y=e[11],M=A*A*o+a,b=R*A*o+T*i,w=T*A*o-R*i,E=A*R*o-T*i,O=R*R*o+a,_=T*R*o+A*i,S=A*T*o+R*i,L=R*T*o-A*i,k=T*T*o+a,t[0]=u*M+l*b+g*w,t[1]=s*M+h*b+m*w,t[2]=c*M+v*b+x*w,t[3]=f*M+p*b+y*w,t[4]=u*E+l*O+g*_,t[5]=s*E+h*O+m*_,t[6]=c*E+v*O+x*_,t[7]=f*E+p*O+y*_,t[8]=u*S+l*L+g*k,t[9]=s*S+h*L+m*k,t[10]=c*S+v*L+x*k,t[11]=f*S+p*L+y*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+f*r,t[6]=u*i+l*r,t[7]=s*i+h*r,t[8]=c*i-a*r,t[9]=f*i-o*r,t[10]=l*i-u*r,t[11]=h*i-s*r,t}function fe(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-f*r,t[2]=u*i-l*r,t[3]=s*i-h*r,t[8]=a*r+c*i,t[9]=o*r+f*i,t[10]=u*r+l*i,t[11]=s*r+h*i,t}function le(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+f*r,t[2]=u*i+l*r,t[3]=s*i+h*r,t[4]=c*i-a*r,t[5]=f*i-o*r,t[6]=l*i-u*r,t[7]=h*i-s*r,t}function he(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e,n){var r,i,a,o=n[0],u=n[1],s=n[2],c=Math.sqrt(o*o+u*u+s*s);return c<d?null:(o*=c=1/c,u*=c,s*=c,r=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=u*o*a+s*r,t[2]=s*o*a-u*r,t[3]=0,t[4]=o*u*a-s*r,t[5]=u*u*a+i,t[6]=s*u*a+o*r,t[7]=0,t[8]=o*s*a+u*r,t[9]=u*s*a-o*r,t[10]=s*s*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function pe(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xe(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=r+r,s=i+i,c=a+a,f=r*u,l=r*s,h=r*c,d=i*s,v=i*c,p=a*c,g=o*u,m=o*s,x=o*c;return t[0]=1-(d+p),t[1]=l+x,t[2]=h-m,t[3]=0,t[4]=l-x,t[5]=1-(f+p),t[6]=v+g,t[7]=0,t[8]=h+m,t[9]=v-g,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ye(t,e){var n=new v(3),r=-e[0],i=-e[1],a=-e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=r*r+i*i+a*a+o*o;return l>0?(n[0]=2*(u*o+f*r+s*a-c*i)/l,n[1]=2*(s*o+f*i+c*r-u*a)/l,n[2]=2*(c*o+f*a+u*i-s*r)/l):(n[0]=2*(u*o+f*r+s*a-c*i),n[1]=2*(s*o+f*i+c*r-u*a),n[2]=2*(c*o+f*a+u*i-s*r)),xe(t,e,n),t}function Me(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function be(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t}function we(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function Ee(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3],s=i+i,c=a+a,f=o+o,l=i*s,h=i*c,d=i*f,v=a*c,p=a*f,g=o*f,m=u*s,x=u*c,y=u*f,M=r[0],b=r[1],w=r[2];return t[0]=(1-(v+g))*M,t[1]=(h+y)*M,t[2]=(d-x)*M,t[3]=0,t[4]=(h-y)*b,t[5]=(1-(l+g))*b,t[6]=(p+m)*b,t[7]=0,t[8]=(d+x)*w,t[9]=(p-m)*w,t[10]=(1-(l+v))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Oe(t,e,n,r,i){var a=e[0],o=e[1],u=e[2],s=e[3],c=a+a,f=o+o,l=u+u,h=a*c,d=a*f,v=a*l,p=o*f,g=o*l,m=u*l,x=s*c,y=s*f,M=s*l,b=r[0],w=r[1],E=r[2],O=i[0],_=i[1],S=i[2],L=(1-(p+m))*b,k=(d+M)*b,A=(v-y)*b,R=(d-M)*w,T=(1-(h+m))*w,D=(g+x)*w,q=(v+y)*E,U=(g-x)*E,C=(1-(h+p))*E;return t[0]=L,t[1]=k,t[2]=A,t[3]=0,t[4]=R,t[5]=T,t[6]=D,t[7]=0,t[8]=q,t[9]=U,t[10]=C,t[11]=0,t[12]=n[0]+O-(L*O+R*_+q*S),t[13]=n[1]+_-(k*O+T*_+U*S),t[14]=n[2]+S-(A*O+D*_+C*S),t[15]=1,t}function _e(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,f=r*o,l=r*u,h=i*o,d=i*u,v=i*s,p=a*o,g=a*u,m=a*s;return t[0]=1-l-v,t[1]=f+m,t[2]=h-g,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=d+p,t[7]=0,t[8]=h+g,t[9]=d-p,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Se(t,e,n,r,i,a,o){var u=1/(n-e),s=1/(i-r),c=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*s,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function Le(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function ke(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(o+u),c=2/(i+a);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-u)*s*.5,t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ae(t,e,n,r,i,a,o){var u=1/(e-n),s=1/(r-i),c=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*s,t[14]=(o+a)*c,t[15]=1,t}function Re(t,e,n,r){var i,a,o,u,s,c,f,l,h,v,p=e[0],g=e[1],m=e[2],x=r[0],y=r[1],M=r[2],b=n[0],w=n[1],E=n[2];return Math.abs(p-b)<d&&Math.abs(g-w)<d&&Math.abs(m-E)<d?te(t):(f=p-b,l=g-w,h=m-E,i=y*(h*=v=1/Math.sqrt(f*f+l*l+h*h))-M*(l*=v),a=M*(f*=v)-x*h,o=x*l-y*f,(v=Math.sqrt(i*i+a*a+o*o))?(i*=v=1/v,a*=v,o*=v):(i=0,a=0,o=0),u=l*o-h*a,s=h*i-f*o,c=f*a-l*i,(v=Math.sqrt(u*u+s*s+c*c))?(u*=v=1/v,s*=v,c*=v):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=a,t[5]=s,t[6]=l,t[7]=0,t[8]=o,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*p+a*g+o*m),t[13]=-(u*p+s*g+c*m),t[14]=-(f*p+l*g+h*m),t[15]=1,t)}function Te(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=r[0],s=r[1],c=r[2],f=i-n[0],l=a-n[1],h=o-n[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);var v=s*h-c*l,p=c*f-u*h,g=u*l-s*f;return(d=v*v+p*p+g*g)>0&&(v*=d=1/Math.sqrt(d),p*=d,g*=d),t[0]=v,t[1]=p,t[2]=g,t[3]=0,t[4]=l*g-h*p,t[5]=h*v-f*g,t[6]=f*p-l*v,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function De(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function qe(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Ue(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Ce(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Ie(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Pe(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Fe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ne(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],v=t[11],p=t[12],g=t[13],m=t[14],x=t[15],y=e[0],M=e[1],b=e[2],w=e[3],E=e[4],O=e[5],_=e[6],S=e[7],L=e[8],k=e[9],A=e[10],R=e[11],T=e[12],D=e[13],q=e[14],U=e[15];return Math.abs(n-y)<=d*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-M)<=d*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-b)<=d*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-w)<=d*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-E)<=d*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(u-O)<=d*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(s-_)<=d*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-S)<=d*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-L)<=d*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(l-k)<=d*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(h-A)<=d*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(v-R)<=d*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(p-T)<=d*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(g-D)<=d*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(m-q)<=d*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(x-U)<=d*Math.max(1,Math.abs(x),Math.abs(U))}var Be=ae,He=Ce;function je(){var t=new v(3);return v!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ze(t){var e=new v(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ge(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function We(t,e,n){var r=new v(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ve(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ye(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Xe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Qe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Ze(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Je(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function $e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ke(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function an(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function on(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function un(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function sn(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function fn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ln(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function hn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-r*s,t[2]=r*u-i*o,t}function vn(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function pn(t,e,n,r,i,a){var o=a*a,u=o*(2*a-3)+1,s=o*(a-2)+a,c=o*(a-1),f=o*(3-2*a);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*f,t}function gn(t,e,n,r,i,a){var o=1-a,u=o*o,s=a*a,c=u*o,f=3*a*u,l=3*s*o,h=s*a;return t[0]=e[0]*c+n[0]*f+r[0]*l+i[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+i[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+i[2]*h,t}function mn(t,e){e=e||1;var n=2*p()*Math.PI,r=2*p()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function xn(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function yn(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function Mn(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=e[0],s=e[1],c=e[2],f=i*c-a*s,l=a*u-r*c,h=r*s-i*u,d=i*h-a*l,v=a*f-r*h,p=r*l-i*f,g=2*o;return f*=g,l*=g,h*=g,d*=2,v*=2,p*=2,t[0]=u+f+d,t[1]=s+l+v,t[2]=c+h+p,t}function bn(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function wn(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function En(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function On(t,e){var n=We(t[0],t[1],t[2]),r=We(e[0],e[1],e[2]);ln(n,n),ln(r,r);var i=hn(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function _n(t){return t[0]=0,t[1]=0,t[2]=0,t}function Sn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ln(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function kn(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],u=e[2];return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))}var An,Rn=Qe,Tn=Ze,Dn=Je,qn=on,Un=un,Cn=Ge,In=sn,Pn=(An=je(),function(t,e,n,r,i,a){var o,u;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,o=n;o<u;o+=e)An[0]=t[o],An[1]=t[o+1],An[2]=t[o+2],i(An,An,a),t[o]=An[0],t[o+1]=An[1],t[o+2]=An[2];return t});function Fn(){var t=new v(4);return v!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Nn(t){var e=new v(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Bn(t,e,n,r){var i=new v(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Hn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function jn(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function zn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Gn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Wn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Vn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Yn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Xn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Qn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Zn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Jn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function $n(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Kn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tr(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function er(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function nr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function rr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function ir(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ar(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function or(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function ur(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function sr(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],s=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],f=e[0],l=e[1],h=e[2],d=e[3];return t[0]=l*c-h*s+d*u,t[1]=-f*c+h*o-d*a,t[2]=f*s-l*o+d*i,t[3]=-f*u+l*a-h*i,t}function cr(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=u+r*(n[3]-u),t}function fr(t,e){var n,r,i,a,o,u;e=e||1;do{o=(n=2*p()-1)*n+(r=2*p()-1)*r}while(o>=1);do{u=(i=2*p()-1)*i+(a=2*p()-1)*a}while(u>=1);var s=Math.sqrt((1-o)/u);return t[0]=e*n,t[1]=e*r,t[2]=e*i*s,t[3]=e*a*s,t}function lr(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function hr(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*a-s*i,l=c*i+s*r-o*a,h=c*a+o*i-u*r,d=-o*r-u*i-s*a;return t[0]=f*c+d*-o+l*-s-h*-u,t[1]=l*c+d*-u+h*-o-f*-s,t[2]=h*c+d*-s+f*-u-l*-o,t[3]=e[3],t}function dr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function vr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function pr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function gr(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))}var mr=Gn,xr=Wn,yr=Vn,Mr=tr,br=er,wr=nr,Er=rr,Or=function(){var t=Fn();return function(e,n,r,i,a,o){var u,s;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],a(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();function _r(){var t=new v(4);return v!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Sr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Lr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function kr(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>d?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ar(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+o*u+i*c-a*s,t[1]=i*f+o*s+a*u-r*c,t[2]=a*f+o*c+r*s-i*u,t[3]=o*f-r*u-i*s-a*c,t}function Rr(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-r*u,t}function Tr(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-a*u,t[1]=i*s+o*u,t[2]=a*s+r*u,t[3]=o*s-i*u,t}function Dr(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=a*s+o*u,t[3]=o*s-a*u,t}function qr(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Ur(t,e,n,r){var i,a,o,u,s,c=e[0],f=e[1],l=e[2],h=e[3],v=n[0],p=n[1],g=n[2],m=n[3];return(a=c*v+f*p+l*g+h*m)<0&&(a=-a,v=-v,p=-p,g=-g,m=-m),1-a>d?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(u=1-r,s=r),t[0]=u*c+s*v,t[1]=u*f+s*p,t[2]=u*l+s*g,t[3]=u*h+s*m,t}function Cr(t){var e=p(),n=p(),r=p(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t}function Ir(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,u=o?1/o:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=a*u,t}function Pr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Fr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}function Nr(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=a*s*f-o*u*c,t[1]=o*u*f+a*s*c,t[2]=o*s*c-a*u*f,t[3]=o*s*f+a*u*c,t}function Br(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Hr,jr,zr,Gr,Wr,Vr,Yr=Nn,Xr=Bn,Qr=Hn,Zr=jn,Jr=zn,$r=Ar,Kr=$n,ti=ur,ei=cr,ni=nr,ri=ni,ii=rr,ai=ii,oi=or,ui=pr,si=gr,ci=(Hr=je(),jr=We(1,0,0),zr=We(0,1,0),function(t,e,n){var r=hn(e,n);return r<-.999999?(dn(Hr,jr,e),Cn(Hr)<1e-6&&dn(Hr,zr,e),ln(Hr,Hr),Lr(t,Hr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(dn(Hr,e,n),t[0]=Hr[0],t[1]=Hr[1],t[2]=Hr[2],t[3]=1+r,oi(t,t))}),fi=(Gr=_r(),Wr=_r(),function(t,e,n,r,i,a){return Ur(Gr,e,i,a),Ur(Wr,n,r,a),Ur(t,Gr,Wr,2*a*(1-a)),t}),li=(Vr=mt(),function(t,e,n,r){return Vr[0]=n[0],Vr[3]=n[1],Vr[6]=n[2],Vr[1]=r[0],Vr[4]=r[1],Vr[7]=r[2],Vr[2]=-e[0],Vr[5]=-e[1],Vr[8]=-e[2],oi(t,Fr(t,Vr))});function hi(){var t=new v(8);return v!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function di(t){var e=new v(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function vi(t,e,n,r,i,a,o,u){var s=new v(8);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s[6]=o,s[7]=u,s}function pi(t,e,n,r,i,a,o){var u=new v(8);u[0]=t,u[1]=e,u[2]=n,u[3]=r;var s=.5*i,c=.5*a,f=.5*o;return u[4]=s*r+c*n-f*e,u[5]=c*r+f*t-s*n,u[6]=f*r+s*e-c*t,u[7]=-s*t-c*e-f*n,u}function gi(t,e,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],o=e[0],u=e[1],s=e[2],c=e[3];return t[0]=o,t[1]=u,t[2]=s,t[3]=c,t[4]=r*c+i*s-a*u,t[5]=i*c+a*o-r*s,t[6]=a*c+r*u-i*o,t[7]=-r*o-i*u-a*s,t}function mi(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function xi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function yi(t,e){var n=_r();we(n,e);var r=new v(3);return Me(r,e),gi(t,n,r),t}function Mi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function bi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function wi(t,e,n,r,i,a,o,u,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t}var Ei=Qr;function Oi(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var _i=Qr;function Si(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Li(t,e){var n=e[4],r=e[5],i=e[6],a=e[7],o=-e[0],u=-e[1],s=-e[2],c=e[3];return t[0]=2*(n*c+a*o+r*s-i*u),t[1]=2*(r*c+a*u+i*o-n*s),t[2]=2*(i*c+a*s+n*u-r*o),t}function ki(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=.5*n[0],s=.5*n[1],c=.5*n[2],f=e[4],l=e[5],h=e[6],d=e[7];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=o*u+i*c-a*s+f,t[5]=o*s+a*u-r*c+l,t[6]=o*c+r*s-i*u+h,t[7]=-r*u-i*s-a*c+d,t}function Ai(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*o+f*r+s*a-c*i,h=s*o+f*i+c*r-u*a,d=c*o+f*a+u*i-s*r,v=f*o-u*r-s*i-c*a;return Rr(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+v*r+h*a-d*i,t[5]=h*o+v*i+d*r-l*a,t[6]=d*o+v*a+l*i-h*r,t[7]=v*o-l*r-h*i-d*a,t}function Ri(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*o+f*r+s*a-c*i,h=s*o+f*i+c*r-u*a,d=c*o+f*a+u*i-s*r,v=f*o-u*r-s*i-c*a;return Tr(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+v*r+h*a-d*i,t[5]=h*o+v*i+d*r-l*a,t[6]=d*o+v*a+l*i-h*r,t[7]=v*o-l*r-h*i-d*a,t}function Ti(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*o+f*r+s*a-c*i,h=s*o+f*i+c*r-u*a,d=c*o+f*a+u*i-s*r,v=f*o-u*r-s*i-c*a;return Dr(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=l*o+v*r+h*a-d*i,t[5]=h*o+v*i+d*r-l*a,t[6]=d*o+v*a+l*i-h*r,t[7]=v*o-l*r-h*i-d*a,t}function Di(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=e[0],s=e[1],c=e[2],f=e[3];return t[0]=u*o+f*r+s*a-c*i,t[1]=s*o+f*i+c*r-u*a,t[2]=c*o+f*a+u*i-s*r,t[3]=f*o-u*r-s*i-c*a,u=e[4],s=e[5],c=e[6],f=e[7],t[4]=u*o+f*r+s*a-c*i,t[5]=s*o+f*i+c*r-u*a,t[6]=c*o+f*a+u*i-s*r,t[7]=f*o-u*r-s*i-c*a,t}function qi(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+o*u+i*c-a*s,t[1]=i*f+o*s+a*u-r*c,t[2]=a*f+o*c+r*s-i*u,t[3]=o*f-r*u-i*s-a*c,u=n[4],s=n[5],c=n[6],f=n[7],t[4]=r*f+o*u+i*c-a*s,t[5]=i*f+o*s+a*u-r*c,t[6]=a*f+o*c+r*s-i*u,t[7]=o*f-r*u-i*s-a*c,t}function Ui(t,e,n,r){if(Math.abs(r)<d)return Mi(t,e);var i=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);r*=.5;var a=Math.sin(r),o=a*n[0]/i,u=a*n[1]/i,s=a*n[2]/i,c=Math.cos(r),f=e[0],l=e[1],h=e[2],v=e[3];t[0]=f*c+v*o+l*s-h*u,t[1]=l*c+v*u+h*o-f*s,t[2]=h*c+v*s+f*u-l*o,t[3]=v*c-f*o-l*u-h*s;var p=e[4],g=e[5],m=e[6],x=e[7];return t[4]=p*c+x*o+g*s-m*u,t[5]=g*c+x*u+m*o-p*s,t[6]=m*c+x*s+p*u-g*o,t[7]=x*c-p*o-g*u-m*s,t}function Ci(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Ii(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[4],s=n[5],c=n[6],f=n[7],l=e[4],h=e[5],d=e[6],v=e[7],p=n[0],g=n[1],m=n[2],x=n[3];return t[0]=r*x+o*p+i*m-a*g,t[1]=i*x+o*g+a*p-r*m,t[2]=a*x+o*m+r*g-i*p,t[3]=o*x-r*p-i*g-a*m,t[4]=r*f+o*u+i*c-a*s+l*x+v*p+h*m-d*g,t[5]=i*f+o*s+a*u-r*c+h*x+v*g+d*p-l*m,t[6]=a*f+o*c+r*s-i*u+d*x+v*m+l*g-h*p,t[7]=o*f-r*u-i*s-a*c+v*x-l*p-h*g-d*m,t}var Pi=Ii;function Fi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Ni=ti;function Bi(t,e,n,r){var i=1-r;return Ni(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function Hi(t,e){var n=Wi(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function ji(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var zi=ni,Gi=zi,Wi=ii,Vi=Wi;function Yi(t,e){var n=Wi(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,a=e[2]/n,o=e[3]/n,u=e[4],s=e[5],c=e[6],f=e[7],l=r*u+i*s+a*c+o*f;t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=(u-r*l)/n,t[5]=(s-i*l)/n,t[6]=(c-a*l)/n,t[7]=(f-o*l)/n}return t}function Xi(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Qi(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Zi(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=e[0],l=e[1],h=e[2],v=e[3],p=e[4],g=e[5],m=e[6],x=e[7];return Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-g)<=d*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-x)<=d*Math.max(1,Math.abs(c),Math.abs(x))}function Ji(){var t=new v(2);return v!=Float32Array&&(t[0]=0,t[1]=0),t}function $i(t){var e=new v(2);return e[0]=t[0],e[1]=t[1],e}function Ki(t,e){var n=new v(2);return n[0]=t,n[1]=e,n}function ta(t,e){return t[0]=e[0],t[1]=e[1],t}function ea(t,e,n){return t[0]=e,t[1]=n,t}function na(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ra(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function ia(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function aa(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function oa(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ua(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function sa(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function ca(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function fa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function la(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ha(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function da(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function va(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function pa(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function ga(t){var e=t[0],n=t[1];return e*e+n*n}function ma(t,e){return t[0]=-e[0],t[1]=-e[1],t}function xa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ya(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Ma(t,e){return t[0]*e[0]+t[1]*e[1]}function ba(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function wa(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function Ea(t,e){e=e||1;var n=2*p()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Oa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function _a(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Sa(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function La(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function ka(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u-a*o+n[0],t[1]=i*o+a*u+n[1],t}function Aa(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var u=i*i+a*a;u>0&&(u=1/Math.sqrt(u));var s=(n*i+r*a)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function Ra(t){return t[0]=0,t[1]=0,t}function Ta(t){return"vec2("+t[0]+", "+t[1]+")"}function Da(t,e){return t[0]===e[0]&&t[1]===e[1]}function qa(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))}var Ua=pa,Ca=ra,Ia=ia,Pa=aa,Fa=da,Na=va,Ba=ga,Ha=function(){var t=Ji();return function(e,n,r,i,a,o){var u,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],a(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}();n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return i}),n.d(e,"mat2d",function(){return a}),n.d(e,"mat3",function(){return o}),n.d(e,"mat4",function(){return u}),n.d(e,"quat",function(){return f}),n.d(e,"quat2",function(){return l}),n.d(e,"vec2",function(){return h}),n.d(e,"vec3",function(){return s}),n.d(e,"vec4",function(){return c})},function(t,e,n){var r=n(17),i=n(18),a=n(19);t.exports=function(t,e){return r(t)||i(t,e)||a()}},function(t,e,n){var r=n(20),i=n(21),a=n(22);t.exports=function(t){return r(t)||i(t)||a()}},function(t,e,n){t.exports=n(16)},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e,n,r,i,a,o){try{var u=t[a](o),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,a){var o=t.apply(e,r);function u(t){n(o,i,a,u,s,"next",t)}function s(t){n(o,i,a,u,s,"throw",t)}u(void 0)})}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(0===e)return[[],[]];for(var n=t[0].length,r=t[0].slice(),i=t[0].slice(),a=1;a<e;++a)for(var o=t[a],u=0;u<n;++u){var s=o[u];r[u]=Math.min(r[u],s),i[u]=Math.max(i[u],s)}return[r,i]}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(7),i=n(30);t.exports=function(t,e){if(!Array.isArray(t))throw new TypeError("must specify positions as first argument");Array.isArray(e)||(e=r(t));var n=e[0],a=e[1],o=a[0]-n[0],u=a[1]-n[1],s=o>u?1:u/o,c=o>u?o/u:1;if(a[0]-n[0]==0||a[1]-n[1]==0)return t;for(var f=0;f<t.length;f++){var l=t[f];l[0]=(2*i(n[0],a[0],l[0])-1)/s,l[1]=(2*i(n[1],a[1],l[1])-1)/c}return t}},function(t,e){t.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},function(t,e){t.exports=function(t){var e=[];return t.replace(r,function(t,r,a){var o=r.toLowerCase();for(a=function(t){var e=t.match(i);return e?e.map(Number):[]}(a),"m"==o&&a.length>2&&(e.push([r].concat(a.splice(0,2))),o="l",r="m"==r?"l":"L");;){if(a.length==n[o])return a.unshift(r),e.push(a);if(a.length<n[o])throw new Error("malformed path data");e.push([r].concat(a.splice(0,n[o])))}}),e};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,n){var r=n(23),i=n(24);t.exports=function(t,e){return t=r(t,e),t=i(t,e)},t.exports.radialDistance=r,t.exports.douglasPeucker=i},function(t,e,n){var r=n(25),i=n(27),a=n(28),o=n(29);function u(t,e,n){return t[0]=e,t[1]=n,t}var s=[0,0],c=[0,0],f=[0,0];t.exports=function(t,e){var n=[],l=[],h=[0,0];return a(i(t)).forEach(function(t,i,a){if("M"===t[0])o(h,t.slice(1)),l.length>0&&(n.push(l),l=[]);else{if("C"!==t[0])throw new Error("illegal type in SVG: "+t[0]);!function(t,e,n,i){r(n,u(s,i[1],i[2]),u(c,i[3],i[4]),u(f,i[5],i[6]),e,t)}(l,e,h,t),u(h,t[5],t[6])}}),l.length>0&&n.push(l),n}},function(t,e){t.exports=function(t,e,n,r,i,a,o,u){u||(u=[]),t=t||0,e=e||0,n=n||0,r=r||0,i=i||0;var s=Math.abs(r-i);!a&&r>i?s=2*Math.PI-s:a&&i>r&&(s=2*Math.PI-s),"number"!=typeof o&&(o=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(s/Math.PI))));var c=s/(o=Math.max(o,3)),f=r;c*=a?-1:1;for(var l=0;l<o+1;l++){var h=t+Math.cos(f)*n,d=e+Math.sin(f)*n;u.push([h,d]),f+=c}return u}},function(t,e,n){var r=n(31),i=n(33);t.exports=function(t,e){if(e=e||{},0===(t=t.filter(function(t){return t.length>0})).length)return{positions:[],cells:[]};"number"!=typeof e.vertexSize&&(e.vertexSize=t[0][0].length),t=t.map(function(t){return t.reduce(function(t,e){return t.concat(e)})});for(var n=r.tesselate(i({contours:t,windingRule:r.WINDING_ODD,elementType:r.POLYGONS,polySize:3,vertexSize:2},e)),a=[],o=0;o<n.vertices.length;o+=e.vertexSize){var u=n.vertices.slice(o,o+e.vertexSize);a.push(u)}var s=[];for(o=0;o<n.elements.length;o+=3){var c=n.elements[o],f=n.elements[o+1],l=n.elements[o+2];s.push([c,f,l])}return{positions:a,cells:s}}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),o=new L(r||[]);return a._invoke=function(t,e,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=O(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=c(t,e,n);if("normal"===s.type){if(r=n.done?d:l,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(t,n,o),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",l="suspendedYield",h="executing",d="completed",v={};function p(){}function g(){}function m(){}var x={};x[a]=function(){return this};var y=Object.getPrototypeOf,M=y&&y(y(k([])));M&&M!==n&&r.call(M,a)&&(x=M);var b=m.prototype=p.prototype=Object.create(x);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(n,i){function a(){return new Promise(function(e,a){!function e(n,i,a,o){var u=c(t[n],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(f).then(function(t){s.value=t,a(s)},function(t){return e("throw",t,a,o)})}o(u.arg)}(n,i,e,a)})}return e=e?e.then(a,a):a()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=b.constructor=m,m.constructor=g,m[u]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),E.prototype[o]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i){var a=new E(s(e,n,r,i));return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t,e){if(t.length<=1)return t;for(var n,r,i,a,o,u=(e="number"==typeof e?e:1)*e,s=t[0],c=[s],f=1,l=t.length;f<l;f++)n=t[f],i=s,a=void 0,o=void 0,a=(r=n)[0]-i[0],o=r[1]-i[1],a*a+o*o>u&&(c.push(n),s=n);return s!==n&&c.push(n),c}},function(t,e){function n(t,e,n){var r=e[0],i=e[1],a=n[0]-r,o=n[1]-i;if(0!==a||0!==o){var u=((t[0]-r)*a+(t[1]-i)*o)/(a*a+o*o);u>1?(r=n[0],i=n[1]):u>0&&(r+=a*u,i+=o*u)}return(a=t[0]-r)*a+(o=t[1]-i)*o}t.exports=function(t,e){if(t.length<=1)return t;var r=(e="number"==typeof e?e:1)*e,i=t.length-1,a=[t[0]];return function t(e,r,i,a,o){for(var u,s=a,c=r+1;c<i;c++){var f=n(e[c],e[r],e[i]);f>s&&(u=c,s=f)}s>a&&(u-r>1&&t(e,r,u,a,o),o.push(e[u]),i-u>1&&t(e,u,i,a,o))}(t,0,i,r,a),a.push(t[i]),a}},function(t,e,n){t.exports=n(26)()},function(t,e){function n(t){return[t[0],t[1]]}function r(t,e){return[t,e]}t.exports=function(t){var e="number"==typeof(t=t||{}).recursion?t.recursion:8,i="number"==typeof t.epsilon?t.epsilon:1.1920929e-7,a="number"==typeof t.pathEpsilon?t.pathEpsilon:1,o="number"==typeof t.angleEpsilon?t.angleEpsilon:.01,u=t.angleTolerance||0,s=t.cuspLimit||0;return function(t,c,f,l,h,d){d||(d=[]);var v=a/(h="number"==typeof h?h:1);return function(t,a,c,f,l,h){l.push(n(t));var d=t[0],v=t[1],p=a[0],g=a[1],m=c[0],x=c[1],y=f[0],M=f[1];(function t(n,a,c,f,l,h,d,v,p,g,m){if(m>e)return;var x=Math.PI;var y=(n+c)/2;var M=(a+f)/2;var b=(c+l)/2;var w=(f+h)/2;var E=(l+d)/2;var O=(h+v)/2;var _=(y+b)/2;var S=(M+w)/2;var L=(b+E)/2;var k=(w+O)/2;var A=(_+L)/2;var R=(S+k)/2;if(m>0){var T,D,q=d-n,U=v-a,C=Math.abs((c-d)*U-(f-v)*q),I=Math.abs((l-d)*U-(h-v)*q);if(C>i&&I>i){if((C+I)*(C+I)<=g*(q*q+U*U)){if(u<o)return void p.push(r(A,R));var P=Math.atan2(h-f,l-c);if(T=Math.abs(P-Math.atan2(f-a,c-n)),D=Math.abs(Math.atan2(v-h,d-l)-P),T>=x&&(T=2*x-T),D>=x&&(D=2*x-D),T+D<u)return void p.push(r(A,R));if(0!==s){if(T>s)return void p.push(r(c,f));if(D>s)return void p.push(r(l,h))}}}else if(C>i){if(C*C<=g*(q*q+U*U)){if(u<o)return void p.push(r(A,R));if((T=Math.abs(Math.atan2(h-f,l-c)-Math.atan2(f-a,c-n)))>=x&&(T=2*x-T),T<u)return p.push(r(c,f)),void p.push(r(l,h));if(0!==s&&T>s)return void p.push(r(c,f))}}else if(I>i){if(I*I<=g*(q*q+U*U)){if(u<o)return void p.push(r(A,R));if((T=Math.abs(Math.atan2(v-h,d-l)-Math.atan2(h-f,l-c)))>=x&&(T=2*x-T),T<u)return p.push(r(c,f)),void p.push(r(l,h));if(0!==s&&T>s)return void p.push(r(l,h))}}else if((q=A-(n+d)/2)*q+(U=R-(a+v)/2)*U<=g)return void p.push(r(A,R))}t(n,a,y,M,_,S,A,R,p,g,m+1);t(A,R,L,k,E,O,d,v,p,g,m+1)})(d,v,p,g,m,x,y,M,l,h,0),l.push(n(f))}(t,c,f,l,d,v*=v),d}}},function(t,e){t.exports=function(t){var e=0,n=0,r=0,i=0;return t.map(function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var u=1;u<t.length;)t[u++]+=r,t[u++]+=i}switch(o){case"Z":r=e,i=n;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=e=t[1],i=n=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t})}},function(t,e){var n=Math.PI,r=s(120);function i(t,e,n,r){return["C",t,e,n,r,n,r]}function a(t,e,n,r,i,a){return["C",t/3+2/3*n,e/3+2/3*r,i/3+2/3*n,a/3+2/3*r,i,a]}function o(t,e,i,a,s,c,f,l,h,d){if(d)E=d[0],O=d[1],b=d[2],w=d[3];else{var v=u(t,e,-s);t=v.x,e=v.y;var p=(t-(l=(v=u(l,h,-s)).x))/2,g=(e-(h=v.y))/2,m=p*p/(i*i)+g*g/(a*a);m>1&&(i*=m=Math.sqrt(m),a*=m);var x=i*i,y=a*a,M=(c==f?-1:1)*Math.sqrt(Math.abs((x*y-x*g*g-y*p*p)/(x*g*g+y*p*p)));M==1/0&&(M=1);var b=M*i*g/a+(t+l)/2,w=M*-a*p/i+(e+h)/2,E=Math.asin(((e-w)/a).toFixed(9)),O=Math.asin(((h-w)/a).toFixed(9));(E=t<b?n-E:E)<0&&(E=2*n+E),(O=l<b?n-O:O)<0&&(O=2*n+O),f&&E>O&&(E-=2*n),!f&&O>E&&(O-=2*n)}if(Math.abs(O-E)>r){var _=O,S=l,L=h;O=E+r*(f&&O>E?1:-1);var k=o(l=b+i*Math.cos(O),h=w+a*Math.sin(O),i,a,s,0,f,S,L,[O,_,b,w])}var A=Math.tan((O-E)/4),R=4/3*i*A,T=4/3*a*A,D=[2*t-(t+R*Math.sin(E)),2*e-(e-T*Math.cos(E)),l+R*Math.sin(O),h-T*Math.cos(O),l,h];if(d)return D;k&&(D=D.concat(k));for(var q=0;q<D.length;){var U=u(D[q],D[q+1],s);D[q++]=U.x,D[q++]=U.y}return D}function u(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function s(t){return t*(n/180)}t.exports=function(t){for(var e,n=[],r=0,u=0,c=0,f=0,l=null,h=null,d=0,v=0,p=0,g=t.length;p<g;p++){var m=t[p],x=m[0];switch(x){case"M":c=m[1],f=m[2];break;case"A":(m=o(d,v,m[1],m[2],s(m[3]),m[4],m[5],m[6],m[7])).unshift("C"),m.length>7&&(n.push(m.splice(0,7)),m.unshift("C"));break;case"S":var y=d,M=v;"C"!=e&&"S"!=e||(y+=y-r,M+=M-u),m=["C",y,M,m[1],m[2],m[3],m[4]];break;case"T":"Q"==e||"T"==e?(l=2*d-l,h=2*v-h):(l=d,h=v),m=a(d,v,l,h,m[1],m[2]);break;case"Q":l=m[1],h=m[2],m=a(d,v,m[1],m[2],m[3],m[4]);break;case"L":m=i(d,v,m[1],m[2]);break;case"H":m=i(d,v,m[1],v);break;case"V":m=i(d,v,d,m[1]);break;case"Z":m=i(d,v,c,f)}e=x,d=m[m.length-2],v=m[m.length-1],m.length>4?(r=m[m.length-4],u=m[m.length-3]):(r=d,u=v),n.push(m)}return n}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e){t.exports=function(t,e,n){return(n-t)/(e-t)}},function(t,e,n){t.exports=n(32)},function(t,e,n){"use strict";var r={};t.exports=r,r.WINDING_ODD=0,r.WINDING_NONZERO=1,r.WINDING_POSITIVE=2,r.WINDING_NEGATIVE=3,r.WINDING_ABS_GEQ_TWO=4,r.POLYGONS=0,r.CONNECTED_POLYGONS=1,r.BOUNDARY_CONTOURS=2,r.tesselate=function(t){for(var e=t.debug||!1,n=new m,i=0;i<t.contours.length;i++)n.addContour(t.vertexSize||2,t.contours[i]);return n.tesselate(t.windingRule||r.WINDING_ODD,t.elementType||r.POLYGONS,t.polySize||3,t.vertexSize||2,t.normal||[0,0,1]),{vertices:n.vertices,vertexIndices:n.vertexIndices,vertexCount:n.vertexCount,elements:n.elements,elementCount:n.elementCount,mesh:e?n.mesh:void 0}};var i=function(t){if(!t)throw"Assertion Failed!"};function a(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}function o(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}function u(t){this.next=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Org=null,this.Lface=null,this.activeRegion=null,this.winding=0,this.side=t}function s(){var t=new a,e=new o,n=new u(0),r=new u(1);t.next=t.prev=t,t.anEdge=null,e.next=e.prev=e,e.anEdge=null,e.trail=null,e.marked=!1,e.inside=!1,n.next=n,n.Sym=r,n.Onext=null,n.Lnext=null,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,r.next=r,r.Sym=n,r.Onext=null,r.Lnext=null,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,this.vHead=t,this.fHead=e,this.eHead=n,this.eHeadSym=r}u.prototype={get Rface(){return this.Sym.Lface},set Rface(t){this.Sym.Lface=t},get Dst(){return this.Sym.Org},set Dst(t){this.Sym.Org=t},get Oprev(){return this.Sym.Lnext},set Oprev(t){this.Sym.Lnext=t},get Lprev(){return this.Onext.Sym},set Lprev(t){this.Onext.Sym=t},get Dprev(){return this.Lnext.Sym},set Dprev(t){this.Lnext.Sym=t},get Rprev(){return this.Sym.Onext},set Rprev(t){this.Sym.Onext=t},get Dnext(){return this.Sym.Onext.Sym},set Dnext(t){this.Sym.Onext.Sym=t},get Rnext(){return this.Sym.Lnext.Sym},set Rnext(t){this.Sym.Lnext.Sym=t}},s.prototype={makeEdge_:function(t){var e=new u(0),n=new u(1);t.Sym.side<t.side&&(t=t.Sym);var r=t.Sym.next;return n.next=r,r.Sym.next=e,e.next=t,t.Sym.next=n,e.Sym=n,e.Onext=e,e.Lnext=n,e.Org=null,e.Lface=null,e.winding=0,e.activeRegion=null,n.Sym=e,n.Onext=n,n.Lnext=e,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,e},splice_:function(t,e){var n=t.Onext,r=e.Onext;n.Sym.Lnext=e,r.Sym.Lnext=t,t.Onext=r,e.Onext=n},makeVertex_:function(t,e,n){var r=t;i(null!==r);var a=n.prev;r.prev=a,a.next=r,r.next=n,n.prev=r,r.anEdge=e;var o=e;do{o.Org=r,o=o.Onext}while(o!==e)},makeFace_:function(t,e,n){var r=t;i(null!==r);var a=n.prev;r.prev=a,a.next=r,r.next=n,n.prev=r,r.anEdge=e,r.trail=null,r.marked=!1,r.inside=n.inside;var o=e;do{o.Lface=r,o=o.Lnext}while(o!==e)},killEdge_:function(t){t.Sym.side<t.side&&(t=t.Sym);var e=t.next,n=t.Sym.next;e.Sym.next=n,n.Sym.next=e},killVertex_:function(t,e){var n=t.anEdge,r=n;do{r.Org=e,r=r.Onext}while(r!==n);var i=t.prev,a=t.next;a.prev=i,i.next=a},killFace_:function(t,e){var n=t.anEdge,r=n;do{r.Lface=e,r=r.Lnext}while(r!==n);var i=t.prev,a=t.next;a.prev=i,i.next=a},makeEdge:function(){var t=new a,e=new a,n=new o,r=this.makeEdge_(this.eHead);return this.makeVertex_(t,r,this.vHead),this.makeVertex_(e,r.Sym,this.vHead),this.makeFace_(n,r,this.fHead),r},splice:function(t,e){var n=!1,r=!1;if(t!==e){if(e.Org!==t.Org&&(r=!0,this.killVertex_(e.Org,t.Org)),e.Lface!==t.Lface&&(n=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(e,t),!r){var i=new a;this.makeVertex_(i,e,t.Org),t.Org.anEdge=t}if(!n){var u=new o;this.makeFace_(u,e,t.Lface),t.Lface.anEdge=t}}},delete:function(t){var e=t.Sym,n=!1;if(t.Lface!==t.Rface&&(n=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!n){var r=new o;this.makeFace_(r,t,t.Lface)}e.Onext===e?(this.killVertex_(e.Org,null),this.killFace_(e.Lface,null)):(t.Lface.anEdge=e.Oprev,e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),this.killEdge_(t)},addEdgeVertex:function(t){var e=this.makeEdge_(t),n=e.Sym;this.splice_(e,t.Lnext),e.Org=t.Dst;var r=new a;return this.makeVertex_(r,n,e.Org),e.Lface=n.Lface=t.Lface,e},splitEdge:function(t,e){var n=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,n),t.Dst=n.Org,n.Dst.anEdge=n.Sym,n.Rface=t.Rface,n.winding=t.winding,n.Sym.winding=t.Sym.winding,n},connect:function(t,e){var n=!1,r=this.makeEdge_(t),i=r.Sym;if(e.Lface!==t.Lface&&(n=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(r,t.Lnext),this.splice_(i,e),r.Org=t.Dst,i.Org=e.Org,r.Lface=i.Lface=t.Lface,t.Lface.anEdge=i,!n){var a=new o;this.makeFace_(a,r,t.Lface)}return r},zapFace:function(t){var e,n,r,i,a,o=t.anEdge;n=o.Lnext;do{n=(e=n).Lnext,e.Lface=null,null===e.Rface&&(e.Onext===e?this.killVertex_(e.Org,null):(e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),(r=e.Sym).Onext===r?this.killVertex_(r.Org,null):(r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(e))}while(e!=o);i=t.prev,(a=t.next).prev=i,i.next=a},countFaceVerts_:function(t){var e=t.anEdge,n=0;do{n++,e=e.Lnext}while(e!==t.anEdge);return n},mergeConvexFaces:function(t){var e,n,r,i,a;for(e=this.fHead.next;e!==this.fHead;e=e.next)if(e.inside)for(a=(n=e.anEdge).Org;r=n.Lnext,(i=n.Sym)&&i.Lface&&i.Lface.inside&&this.countFaceVerts_(e)+this.countFaceVerts_(i.Lface)-2<=t&&c.vertCCW(n.Lprev.Org,n.Org,i.Lnext.Lnext.Org)&&c.vertCCW(i.Lprev.Org,i.Org,n.Lnext.Lnext.Org)&&(r=i.Lnext,this.delete(i),n=null,i=null),!n||n.Lnext.Org!==a;)n=r;return!0},check:function(){var t,e,n,r,a,o,u=this.fHead,s=this.vHead,c=this.eHead;for(e=u,e=u;(t=e.next)!==u;e=t){i(t.prev===e),a=t.anEdge;do{i(a.Sym!==a),i(a.Sym.Sym===a),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a),i(a.Lface===t),a=a.Lnext}while(a!==t.anEdge)}for(i(t.prev===e&&null===t.anEdge),r=s,r=s;(n=r.next)!==s;r=n){i(n.prev===r),a=n.anEdge;do{i(a.Sym!==a),i(a.Sym.Sym===a),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a),i(a.Org===n),a=a.Onext}while(a!==n.anEdge)}for(i(n.prev===r&&null===n.anEdge),o=c,o=c;(a=o.next)!==c;o=a)i(a.Sym.next===o.Sym),i(a.Sym!==a),i(a.Sym.Sym===a),i(null!==a.Org),i(null!==a.Dst),i(a.Lnext.Onext.Sym===a),i(a.Onext.Sym.Lnext===a);i(a.Sym.next===o.Sym&&a.Sym===this.eHeadSym&&a.Sym.Sym===a&&null===a.Org&&null===a.Dst&&null===a.Lface&&null===a.Rface)}};var c={};function f(){this.key=null,this.next=null,this.prev=null}function l(t,e){this.head=new f,this.head.next=this.head,this.head.prev=this.head,this.frame=t,this.leq=e}function h(){this.handle=null}function d(){this.key=null,this.node=null}function v(t,e){this.size=0,this.max=t,this.nodes=[],this.nodes.length=t+1;for(var n=0;n<this.nodes.length;n++)this.nodes[n]=new h;this.handles=[],this.handles.length=t+1;for(n=0;n<this.handles.length;n++)this.handles[n]=new d;this.initialized=!1,this.freeList=0,this.leq=e,this.nodes[1].handle=1,this.handles[1].key=null}function p(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}c.vertEq=function(t,e){return t.s===e.s&&t.t===e.t},c.vertLeq=function(t,e){return t.s<e.s||t.s===e.s&&t.t<=e.t},c.transLeq=function(t,e){return t.t<e.t||t.t===e.t&&t.s<=e.s},c.edgeGoesLeft=function(t){return c.vertLeq(t.Dst,t.Org)},c.edgeGoesRight=function(t){return c.vertLeq(t.Org,t.Dst)},c.vertL1dist=function(t,e){return Math.abs(t.s-e.s)+Math.abs(t.t-e.t)},c.edgeEval=function(t,e,n){i(c.vertLeq(t,e)&&c.vertLeq(e,n));var r=e.s-t.s,a=n.s-e.s;return r+a>0?r<a?e.t-t.t+(t.t-n.t)*(r/(r+a)):e.t-n.t+(n.t-t.t)*(a/(r+a)):0},c.edgeSign=function(t,e,n){i(c.vertLeq(t,e)&&c.vertLeq(e,n));var r=e.s-t.s,a=n.s-e.s;return r+a>0?(e.t-n.t)*r+(e.t-t.t)*a:0},c.transEval=function(t,e,n){i(c.transLeq(t,e)&&c.transLeq(e,n));var r=e.t-t.t,a=n.t-e.t;return r+a>0?r<a?e.s-t.s+(t.s-n.s)*(r/(r+a)):e.s-n.s+(n.s-t.s)*(a/(r+a)):0},c.transSign=function(t,e,n){i(c.transLeq(t,e)&&c.transLeq(e,n));var r=e.t-t.t,a=n.t-e.t;return r+a>0?(e.s-n.s)*r+(e.s-t.s)*a:0},c.vertCCW=function(t,e,n){return t.s*(e.t-n.t)+e.s*(n.t-t.t)+n.s*(t.t-e.t)>=0},c.interpolate=function(t,e,n,r){return(t=t<0?0:t)<=(n=n<0?0:n)?0==n?(e+r)/2:e+t/(t+n)*(r-e):r+n/(t+n)*(e-r)},c.intersect=function(t,e,n,r,i){var a,o,u;c.vertLeq(t,e)||(u=t,t=e,e=u),c.vertLeq(n,r)||(u=n,n=r,r=u),c.vertLeq(t,n)||(u=t,t=n,n=u,u=e,e=r,r=u),c.vertLeq(n,e)?c.vertLeq(e,r)?((a=c.edgeEval(t,n,e))+(o=c.edgeEval(n,e,r))<0&&(a=-a,o=-o),i.s=c.interpolate(a,n.s,o,e.s)):((a=c.edgeSign(t,n,e))+(o=-c.edgeSign(t,r,e))<0&&(a=-a,o=-o),i.s=c.interpolate(a,n.s,o,r.s)):i.s=(n.s+e.s)/2,c.transLeq(t,e)||(u=t,t=e,e=u),c.transLeq(n,r)||(u=n,n=r,r=u),c.transLeq(t,n)||(u=t,t=n,n=u,u=e,e=r,r=u),c.transLeq(n,e)?c.transLeq(e,r)?((a=c.transEval(t,n,e))+(o=c.transEval(n,e,r))<0&&(a=-a,o=-o),i.t=c.interpolate(a,n.t,o,e.t)):((a=c.transSign(t,n,e))+(o=-c.transSign(t,r,e))<0&&(a=-a,o=-o),i.t=c.interpolate(a,n.t,o,r.t)):i.t=(n.t+e.t)/2},l.prototype={min:function(){return this.head.next},max:function(){return this.head.prev},insert:function(t){return this.insertBefore(this.head,t)},search:function(t){var e=this.head;do{e=e.next}while(null!==e.key&&!this.leq(this.frame,t,e.key));return e},insertBefore:function(t,e){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,e));var n=new f;return n.key=e,n.next=t.next,t.next.prev=n,n.prev=t,t.next=n,n},delete:function(t){t.next.prev=t.prev,t.prev.next=t.next}},v.prototype={floatDown_:function(t){var e,n,r,a=this.nodes,o=this.handles;for(e=a[t].handle;;){if((r=t<<1)<this.size&&this.leq(o[a[r+1].handle].key,o[a[r].handle].key)&&++r,i(r<=this.max),n=a[r].handle,r>this.size||this.leq(o[e].key,o[n].key)){a[t].handle=e,o[e].node=t;break}a[t].handle=n,o[n].node=t,t=r}},floatUp_:function(t){var e,n,r,i=this.nodes,a=this.handles;for(e=i[t].handle;;){if(n=i[r=t>>1].handle,0==r||this.leq(a[n].key,a[e].key)){i[t].handle=e,a[e].node=t;break}i[t].handle=n,a[n].node=t,t=r}},init:function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},min:function(){return this.handles[this.nodes[1].handle].key},isEmpty:function(){this.size},insert:function(t){var e,n;if(2*(e=++this.size)>this.max){var r;this.max*=2,r=this.nodes.length,this.nodes.length=this.max+1;for(var i=r;i<this.nodes.length;i++)this.nodes[i]=new h;r=this.handles.length,this.handles.length=this.max+1;for(i=r;i<this.handles.length;i++)this.handles[i]=new d}return 0===this.freeList?n=e:(n=this.freeList,this.freeList=this.handles[n].node),this.nodes[e].handle=n,this.handles[n].node=e,this.handles[n].key=t,this.initialized&&this.floatUp_(e),n},extractMin:function(){var t=this.nodes,e=this.handles,n=t[1].handle,r=e[n].key;return this.size>0&&(t[1].handle=t[this.size].handle,e[t[1].handle].node=1,e[n].key=null,e[n].node=this.freeList,this.freeList=n,--this.size,this.size>0&&this.floatDown_(1)),r},delete:function(t){var e,n=this.nodes,r=this.handles;i(t>=1&&t<=this.max&&null!==r[t].key),n[e=r[t].node].handle=n[this.size].handle,r[n[e].handle].node=e,--this.size,e<=this.size&&(e<=1||this.leq(r[n[e>>1].handle].key,r[n[e].handle].key)?this.floatDown_(e):this.floatUp_(e)),r[t].key=null,r[t].node=this.freeList,this.freeList=t}};var g={};function m(){this.mesh=null,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=r.WINDING_ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}g.regionBelow=function(t){return t.nodeUp.prev.key},g.regionAbove=function(t){return t.nodeUp.next.key},g.debugEvent=function(t){},g.addWinding=function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},g.edgeLeq=function(t,e,n){var r=t.event,i=e.eUp,a=n.eUp;return i.Dst===r?a.Dst===r?c.vertLeq(i.Org,a.Org)?c.edgeSign(a.Dst,i.Org,a.Org)<=0:c.edgeSign(i.Dst,a.Org,i.Org)>=0:c.edgeSign(a.Dst,r,a.Org)<=0:a.Dst===r?c.edgeSign(i.Dst,r,i.Org)>=0:c.edgeEval(i.Dst,r,i.Org)>=c.edgeEval(a.Dst,r,a.Org)},g.deleteRegion=function(t,e){e.fixUpperEdge&&i(0===e.eUp.winding),e.eUp.activeRegion=null,t.dict.delete(e.nodeUp)},g.fixUpperEdge=function(t,e,n){i(e.fixUpperEdge),t.mesh.delete(e.eUp),e.fixUpperEdge=!1,e.eUp=n,n.activeRegion=e},g.topLeftRegion=function(t,e){var n,r=e.eUp.Org;do{e=g.regionAbove(e)}while(e.eUp.Org===r);if(e.fixUpperEdge){if(null===(n=t.mesh.connect(g.regionBelow(e).eUp.Sym,e.eUp.Lnext)))return null;g.fixUpperEdge(t,e,n),e=g.regionAbove(e)}return e},g.topRightRegion=function(t){var e=t.eUp.Dst;t=null;do{t=g.regionAbove(t)}while(t.eUp.Dst===e);return t},g.addRegionBelow=function(t,e,n){var r=new p;return r.eUp=n,r.nodeUp=t.dict.insertBefore(e.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,n.activeRegion=r,r},g.isWindingInside=function(t,e){switch(t.windingRule){case r.WINDING_ODD:return 0!=(1&e);case r.WINDING_NONZERO:return 0!=e;case r.WINDING_POSITIVE:return e>0;case r.WINDING_NEGATIVE:return e<0;case r.WINDING_ABS_GEQ_TWO:return e>=2||e<=-2}return i(!1),!1},g.computeWinding=function(t,e){e.windingNumber=g.regionAbove(e).windingNumber+e.eUp.winding,e.inside=g.isWindingInside(t,e.windingNumber)},g.finishRegion=function(t,e){var n=e.eUp,r=n.Lface;r.inside=e.inside,r.anEdge=n,g.deleteRegion(t,e)},g.finishLeftRegions=function(t,e,n){for(var r,i=null,a=e,o=e.eUp;a!==n;){if(a.fixUpperEdge=!1,(r=(i=g.regionBelow(a)).eUp).Org!=o.Org){if(!i.fixUpperEdge){g.finishRegion(t,a);break}r=t.mesh.connect(o.Lprev,r.Sym),g.fixUpperEdge(t,i,r)}o.Onext!==r&&(t.mesh.splice(r.Oprev,r),t.mesh.splice(o,r)),g.finishRegion(t,a),o=i.eUp,a=i}return o},g.addRightEdges=function(t,e,n,r,a,o){var u,s,f,l,h=!0;f=n;do{i(c.vertLeq(f.Org,f.Dst)),g.addRegionBelow(t,e,f.Sym),f=f.Onext}while(f!==r);for(null===a&&(a=g.regionBelow(e).eUp.Rprev),s=e,l=a;(f=(u=g.regionBelow(s)).eUp.Sym).Org===l.Org;)f.Onext!==l&&(t.mesh.splice(f.Oprev,f),t.mesh.splice(l.Oprev,f)),u.windingNumber=s.windingNumber-f.winding,u.inside=g.isWindingInside(t,u.windingNumber),s.dirty=!0,!h&&g.checkForRightSplice(t,s)&&(g.addWinding(f,l),g.deleteRegion(t,s),t.mesh.delete(l)),h=!1,s=u,l=f;s.dirty=!0,i(s.windingNumber-f.winding===u.windingNumber),o&&g.walkDirtyRegions(t,s)},g.spliceMergeVertices=function(t,e,n){t.mesh.splice(e,n)},g.vertexWeights=function(t,e,n){var r=c.vertL1dist(e,t),i=c.vertL1dist(n,t),a=.5*i/(r+i),o=.5*r/(r+i);t.coords[0]+=a*e.coords[0]+o*n.coords[0],t.coords[1]+=a*e.coords[1]+o*n.coords[1],t.coords[2]+=a*e.coords[2]+o*n.coords[2]},g.getIntersectData=function(t,e,n,r,i,a){e.coords[0]=e.coords[1]=e.coords[2]=0,e.idx=-1,g.vertexWeights(e,n,r),g.vertexWeights(e,i,a)},g.checkForRightSplice=function(t,e){var n=g.regionBelow(e),r=e.eUp,i=n.eUp;if(c.vertLeq(r.Org,i.Org)){if(c.edgeSign(i.Dst,r.Org,i.Org)>0)return!1;c.vertEq(r.Org,i.Org)?r.Org!==i.Org&&(t.pq.delete(r.Org.pqHandle),g.spliceMergeVertices(t,i.Oprev,r)):(t.mesh.splitEdge(i.Sym),t.mesh.splice(r,i.Oprev),e.dirty=n.dirty=!0)}else{if(c.edgeSign(r.Dst,i.Org,r.Org)<0)return!1;g.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(r.Sym),t.mesh.splice(i.Oprev,r)}return!0},g.checkForLeftSplice=function(t,e){var n,r=g.regionBelow(e),a=e.eUp,o=r.eUp;if(i(!c.vertEq(a.Dst,o.Dst)),c.vertLeq(a.Dst,o.Dst)){if(c.edgeSign(a.Dst,o.Dst,a.Org)<0)return!1;g.regionAbove(e).dirty=e.dirty=!0,n=t.mesh.splitEdge(a),t.mesh.splice(o.Sym,n),n.Lface.inside=e.inside}else{if(c.edgeSign(o.Dst,a.Dst,o.Org)>0)return!1;e.dirty=r.dirty=!0,n=t.mesh.splitEdge(o),t.mesh.splice(a.Lnext,o.Sym),n.Rface.inside=e.inside}return!0},g.checkForIntersect=function(t,e){var n,r,o=g.regionBelow(e),u=e.eUp,s=o.eUp,f=u.Org,l=s.Org,h=u.Dst,d=s.Dst,v=new a;if(i(!c.vertEq(d,h)),i(c.edgeSign(h,t.event,f)<=0),i(c.edgeSign(d,t.event,l)>=0),i(f!==t.event&&l!==t.event),i(!e.fixUpperEdge&&!o.fixUpperEdge),f===l)return!1;if(Math.min(f.t,h.t)>Math.max(l.t,d.t))return!1;if(c.vertLeq(f,l)){if(c.edgeSign(d,f,l)>0)return!1}else if(c.edgeSign(h,l,f)<0)return!1;return g.debugEvent(t),c.intersect(h,f,d,l,v),i(Math.min(f.t,h.t)<=v.t),i(v.t<=Math.max(l.t,d.t)),i(Math.min(d.s,h.s)<=v.s),i(v.s<=Math.max(l.s,f.s)),c.vertLeq(v,t.event)&&(v.s=t.event.s,v.t=t.event.t),n=c.vertLeq(f,l)?f:l,c.vertLeq(n,v)&&(v.s=n.s,v.t=n.t),c.vertEq(v,f)||c.vertEq(v,l)?(g.checkForRightSplice(t,e),!1):!c.vertEq(h,t.event)&&c.edgeSign(h,t.event,v)>=0||!c.vertEq(d,t.event)&&c.edgeSign(d,t.event,v)<=0?d===t.event?(t.mesh.splitEdge(u.Sym),t.mesh.splice(s.Sym,u),e=g.topLeftRegion(t,e),u=g.regionBelow(e).eUp,g.finishLeftRegions(t,g.regionBelow(e),o),g.addRightEdges(t,e,u.Oprev,u,u,!0),TRUE):h===t.event?(t.mesh.splitEdge(s.Sym),t.mesh.splice(u.Lnext,s.Oprev),o=e,e=g.topRightRegion(e),r=g.regionBelow(e).eUp.Rprev,o.eUp=s.Oprev,s=g.finishLeftRegions(t,o,null),g.addRightEdges(t,e,s.Onext,u.Rprev,r,!0),!0):(c.edgeSign(h,t.event,v)>=0&&(g.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(u.Sym),u.Org.s=t.event.s,u.Org.t=t.event.t),c.edgeSign(d,t.event,v)<=0&&(e.dirty=o.dirty=!0,t.mesh.splitEdge(s.Sym),s.Org.s=t.event.s,s.Org.t=t.event.t),!1):(t.mesh.splitEdge(u.Sym),t.mesh.splitEdge(s.Sym),t.mesh.splice(s.Oprev,u),u.Org.s=v.s,u.Org.t=v.t,u.Org.pqHandle=t.pq.insert(u.Org),g.getIntersectData(t,u.Org,f,h,l,d),g.regionAbove(e).dirty=e.dirty=o.dirty=!0,!1)},g.walkDirtyRegions=function(t,e){for(var n,r,i=g.regionBelow(e);;){for(;i.dirty;)e=i,i=g.regionBelow(i);if(!e.dirty&&(i=e,null==(e=g.regionAbove(e))||!e.dirty))return;if(e.dirty=!1,n=e.eUp,r=i.eUp,n.Dst!==r.Dst&&g.checkForLeftSplice(t,e)&&(i.fixUpperEdge?(g.deleteRegion(t,i),t.mesh.delete(r),r=(i=g.regionBelow(e)).eUp):e.fixUpperEdge&&(g.deleteRegion(t,e),t.mesh.delete(n),n=(e=g.regionAbove(i)).eUp)),n.Org!==r.Org)if(n.Dst===r.Dst||e.fixUpperEdge||i.fixUpperEdge||n.Dst!==t.event&&r.Dst!==t.event)g.checkForRightSplice(t,e);else if(g.checkForIntersect(t,e))return;n.Org===r.Org&&n.Dst===r.Dst&&(g.addWinding(r,n),g.deleteRegion(t,e),t.mesh.delete(n),e=g.regionAbove(i))}},g.connectRightVertex=function(t,e,n){var r,i=n.Onext,a=g.regionBelow(e),o=e.eUp,u=a.eUp,s=!1;o.Dst!==u.Dst&&g.checkForIntersect(t,e),c.vertEq(o.Org,t.event)&&(t.mesh.splice(i.Oprev,o),e=g.topLeftRegion(t,e),i=g.regionBelow(e).eUp,g.finishLeftRegions(t,g.regionBelow(e),a),s=!0),c.vertEq(u.Org,t.event)&&(t.mesh.splice(n,u.Oprev),n=g.finishLeftRegions(t,a,null),s=!0),s?g.addRightEdges(t,e,n.Onext,i,i,!0):(r=c.vertLeq(u.Org,o.Org)?u.Oprev:o,r=t.mesh.connect(n.Lprev,r),g.addRightEdges(t,e,r,r.Onext,r.Onext,!1),r.Sym.activeRegion.fixUpperEdge=!0,g.walkDirtyRegions(t,e))},g.connectLeftDegenerate=function(t,e,n){var r,a,o,u,s;return r=e.eUp,c.vertEq(r.Org,n)?(i(!1),void g.spliceMergeVertices(t,r,n.anEdge)):c.vertEq(r.Dst,n)?(i(!1),e=g.topRightRegion(e),a=u=(o=(s=g.regionBelow(e)).eUp.Sym).Onext,s.fixUpperEdge&&(i(a!==o),g.deleteRegion(t,s),t.mesh.delete(o),o=a.Oprev),t.mesh.splice(n.anEdge,o),c.edgeGoesLeft(a)||(a=null),void g.addRightEdges(t,e,o.Onext,u,a,!0)):(t.mesh.splitEdge(r.Sym),e.fixUpperEdge&&(t.mesh.delete(r.Onext),e.fixUpperEdge=!1),t.mesh.splice(n.anEdge,r),void g.sweepEvent(t,n))},g.connectLeftVertex=function(t,e){var n,r,i,a,o,u,s=new p;if(s.eUp=e.anEdge.Sym,n=t.dict.search(s).key,r=g.regionBelow(n))if(a=n.eUp,o=r.eUp,0!==c.edgeSign(a.Dst,e,a.Org))if(i=c.vertLeq(o.Dst,a.Dst)?n:r,n.inside||i.fixUpperEdge){if(i===n)u=t.mesh.connect(e.anEdge.Sym,a.Lnext);else u=t.mesh.connect(o.Dnext,e.anEdge).Sym;i.fixUpperEdge?g.fixUpperEdge(t,i,u):g.computeWinding(t,g.addRegionBelow(t,n,u)),g.sweepEvent(t,e)}else g.addRightEdges(t,n,e.anEdge,e.anEdge,null,!0);else g.connectLeftDegenerate(t,n,e)},g.sweepEvent=function(t,e){t.event=e,g.debugEvent(t);for(var n=e.anEdge;null===n.activeRegion;)if((n=n.Onext)==e.anEdge)return void g.connectLeftVertex(t,e);var r=g.topLeftRegion(t,n.activeRegion);i(null!==r);var a=g.regionBelow(r),o=a.eUp,u=g.finishLeftRegions(t,a,null);u.Onext===o?g.connectRightVertex(t,r,u):g.addRightEdges(t,r,u.Onext,o,o,!0)},g.addSentinel=function(t,e,n,r){var i=new p,a=t.mesh.makeEdge();a.Org.s=n,a.Org.t=r,a.Dst.s=e,a.Dst.t=r,t.event=a.Dst,i.eUp=a,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=t.dict.insert(i)},g.initEdgeDict=function(t){t.dict=new l(t,g.edgeLeq);var e=t.bmax[0]-t.bmin[0],n=t.bmax[1]-t.bmin[1],r=t.bmin[0]-e,i=t.bmax[0]+e,a=t.bmin[1]-n,o=t.bmax[1]+n;g.addSentinel(t,r,i,a),g.addSentinel(t,r,i,o)},g.doneEdgeDict=function(t){for(var e,n=0;null!==(e=t.dict.min().key);)e.sentinel||(i(e.fixUpperEdge),i(1==++n)),i(0==e.windingNumber),g.deleteRegion(t,e)},g.removeDegenerateEdges=function(t){var e,n,r,i=t.mesh.eHead;for(e=i.next;e!==i;e=n)n=e.next,r=e.Lnext,c.vertEq(e.Org,e.Dst)&&e.Lnext.Lnext!==e&&(g.spliceMergeVertices(t,r,e),t.mesh.delete(e),r=(e=r).Lnext),r.Lnext===e&&(r!==e&&(r!==n&&r!==n.Sym||(n=n.next),t.mesh.delete(r)),e!==n&&e!==n.Sym||(n=n.next),t.mesh.delete(e))},g.initPriorityQ=function(t){var e,n,r,i=0;for(n=(r=t.mesh.vHead).next;n!==r;n=n.next)i++;for(i+=8,e=t.pq=new v(i,c.vertLeq),n=(r=t.mesh.vHead).next;n!==r;n=n.next)n.pqHandle=e.insert(n);return n===r&&(e.init(),!0)},g.donePriorityQ=function(t){t.pq=null},g.removeDegenerateFaces=function(t,e){var n,r,a;for(n=e.fHead.next;n!==e.fHead;n=r)r=n.next,a=n.anEdge,i(a.Lnext!==a),a.Lnext.Lnext===a&&(g.addWinding(a.Onext,a),t.mesh.delete(a));return!0},g.computeInterior=function(t){var e,n;if(g.removeDegenerateEdges(t),!g.initPriorityQ(t))return!1;for(g.initEdgeDict(t);null!==(e=t.pq.extractMin());){for(;null!==(n=t.pq.min())&&c.vertEq(n,e);)n=t.pq.extractMin(),g.spliceMergeVertices(t,e.anEdge,n.anEdge);g.sweepEvent(t,e)}return t.event=t.dict.min().key.eUp.Org,g.debugEvent(t),g.doneEdgeDict(t),g.donePriorityQ(t),!!g.removeDegenerateFaces(t,t.mesh)&&(t.mesh.check(),!0)},m.prototype={dot_:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalize_:function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];i(e>0),e=Math.sqrt(e),t[0]/=e,t[1]/=e,t[2]/=e},longAxis_:function(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e},computeNormal_:function(t){var e,n,r,i,a,o,u,s=[0,0,0],c=[0,0,0],f=[0,0,0],l=[0,0,0],h=[0,0,0],d=[null,null,null],v=[null,null,null],p=this.mesh.vHead;for(e=p.next,u=0;u<3;++u)i=e.coords[u],c[u]=i,v[u]=e,s[u]=i,d[u]=e;for(e=p.next;e!==p;e=e.next)for(u=0;u<3;++u)(i=e.coords[u])<c[u]&&(c[u]=i,v[u]=e),i>s[u]&&(s[u]=i,d[u]=e);if(u=0,s[1]-c[1]>s[0]-c[0]&&(u=1),s[2]-c[2]>s[u]-c[u]&&(u=2),c[u]>=s[u])return t[0]=0,t[1]=0,void(t[2]=1);for(o=0,n=v[u],r=d[u],f[0]=n.coords[0]-r.coords[0],f[1]=n.coords[1]-r.coords[1],f[2]=n.coords[2]-r.coords[2],e=p.next;e!==p;e=e.next)l[0]=e.coords[0]-r.coords[0],l[1]=e.coords[1]-r.coords[1],l[2]=e.coords[2]-r.coords[2],h[0]=f[1]*l[2]-f[2]*l[1],h[1]=f[2]*l[0]-f[0]*l[2],h[2]=f[0]*l[1]-f[1]*l[0],(a=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>o&&(o=a,t[0]=h[0],t[1]=h[1],t[2]=h[2]);o<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(f)]=1)},checkOrientation_:function(){var t,e,n,r,i=this.mesh.fHead,a=this.mesh.vHead;for(t=0,e=i.next;e!==i;e=e.next)if(!((r=e.anEdge).winding<=0))do{t+=(r.Org.s-r.Dst.s)*(r.Org.t+r.Dst.t),r=r.Lnext}while(r!==e.anEdge);if(t<0){for(n=a.next;n!==a;n=n.next)n.t=-n.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},projectPolygon_:function(){var t,e,n,r,i,a=this.mesh.vHead,o=[0,0,0],u=!1;for(o[0]=this.normal[0],o[1]=this.normal[1],o[2]=this.normal[2],0===o[0]&&0===o[1]&&0===o[2]&&(this.computeNormal_(o),u=!0),e=this.sUnit,n=this.tUnit,e[r=this.longAxis_(o)]=0,e[(r+1)%3]=1,e[(r+2)%3]=0,n[r]=0,n[(r+1)%3]=0,n[(r+2)%3]=o[r]>0?1:-1,t=a.next;t!==a;t=t.next)t.s=this.dot_(t.coords,e),t.t=this.dot_(t.coords,n);for(u&&this.checkOrientation_(),i=!0,t=a.next;t!==a;t=t.next)i?(this.bmin[0]=this.bmax[0]=t.s,this.bmin[1]=this.bmax[1]=t.t,i=!1):(t.s<this.bmin[0]&&(this.bmin[0]=t.s),t.s>this.bmax[0]&&(this.bmax[0]=t.s),t.t<this.bmin[1]&&(this.bmin[1]=t.t),t.t>this.bmax[1]&&(this.bmax[1]=t.t))},addWinding_:function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},tessellateMonoRegion_:function(t,e){var n,r;for(n=e.anEdge,i(n.Lnext!==n&&n.Lnext.Lnext!==n);c.vertLeq(n.Dst,n.Org);n=n.Lprev);for(;c.vertLeq(n.Org,n.Dst);n=n.Lnext);for(r=n.Lprev;n.Lnext!==r;)if(c.vertLeq(n.Dst,r.Org)){for(;r.Lnext!==n&&(c.edgeGoesLeft(r.Lnext)||c.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);){r=t.connect(r.Lnext,r).Sym}r=r.Lprev}else{for(;r.Lnext!=n&&(c.edgeGoesRight(n.Lprev)||c.edgeSign(n.Dst,n.Org,n.Lprev.Org)>=0);){n=t.connect(n,n.Lprev).Sym}n=n.Lnext}for(i(r.Lnext!==n);r.Lnext.Lnext!==n;){r=t.connect(r.Lnext,r).Sym}return!0},tessellateInterior_:function(t){var e,n;for(e=t.fHead.next;e!==t.fHead;e=n)if(n=e.next,e.inside&&!this.tessellateMonoRegion_(t,e))return!1;return!0},discardExterior_:function(t){var e,n;for(e=t.fHead.next;e!==t.fHead;e=n)n=e.next,e.inside||t.zapFace(e)},setWindingNumber_:function(t,e,n){var r,i;for(r=t.eHead.next;r!==t.eHead;r=i)i=r.next,r.Rface.inside!==r.Lface.inside?r.winding=r.Lface.inside?e:-e:n?t.delete(r):r.winding=0},getNeighbourFace_:function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},outputPolymesh_:function(t,e,n,a){var o,u,s,c,f,l=0,h=0;for(n>3&&t.mergeConvexFaces(n),o=t.vHead.next;o!==t.vHead;o=o.next)o.n=-1;for(u=t.fHead.next;u!=t.fHead;u=u.next)if(u.n=-1,u.inside){s=u.anEdge,c=0;do{-1===(o=s.Org).n&&(o.n=h,h++),c++,s=s.Lnext}while(s!==u.anEdge);i(c<=n),u.n=l,++l}for(this.elementCount=l,e==r.CONNECTED_POLYGONS&&(l*=2),this.elements=[],this.elements.length=l*n,this.vertexCount=h,this.vertices=[],this.vertices.length=h*a,this.vertexIndices=[],this.vertexIndices.length=h,o=t.vHead.next;o!==t.vHead;o=o.next)if(-1!=o.n){var d=o.n*a;this.vertices[d+0]=o.coords[0],this.vertices[d+1]=o.coords[1],a>2&&(this.vertices[d+2]=o.coords[2]),this.vertexIndices[o.n]=o.idx}var v=0;for(u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){s=u.anEdge,c=0;do{o=s.Org,this.elements[v++]=o.n,c++,s=s.Lnext}while(s!==u.anEdge);for(f=c;f<n;++f)this.elements[v++]=-1;if(e==r.CONNECTED_POLYGONS){s=u.anEdge;do{this.elements[v++]=this.getNeighbourFace_(s),s=s.Lnext}while(s!==u.anEdge);for(f=c;f<n;++f)this.elements[v++]=-1}}},outputContours_:function(t,e){var n,r,i,a=0,o=0;for(this.vertexCount=0,this.elementCount=0,n=t.fHead.next;n!==t.fHead;n=n.next)if(n.inside){i=r=n.anEdge;do{this.vertexCount++,r=r.Lnext}while(r!==i);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*e,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var u=0,s=0,c=0;for(a=0,n=t.fHead.next;n!==t.fHead;n=n.next)if(n.inside){o=0,i=r=n.anEdge;do{this.vertices[u++]=r.Org.coords[0],this.vertices[u++]=r.Org.coords[1],e>2&&(this.vertices[u++]=r.Org.coords[2]),this.vertexIndices[s++]=r.Org.idx,o++,r=r.Lnext}while(r!==i);this.elements[c++]=a,this.elements[c++]=o,a+=o}},addContour:function(t,e){var n,r;for(null===this.mesh&&(this.mesh=new s),t<2&&(t=2),t>3&&(t=3),n=null,r=0;r<e.length;r+=t)null==n?(n=this.mesh.makeEdge(),this.mesh.splice(n,n.Sym)):(this.mesh.splitEdge(n),n=n.Lnext),n.Org.coords[0]=e[r+0],n.Org.coords[1]=e[r+1],n.Org.coords[2]=t>2?e[r+2]:0,n.Org.idx=this.vertexIndexCounter++,n.winding=1,n.Sym.winding=-1},tesselate:function(t,e,n,i,a){if(this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,i<2&&(i=2),i>3&&(i=3),!this.mesh)return!1;this.projectPolygon_(),g.computeInterior(this);var o=this.mesh;return e==r.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),o.check(),e==r.BOUNDARY_CONTOURS?this.outputContours_(o,i):this.outputPolymesh_(o,e,n,i),!0}}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){var r=n(35),i=n(36),a=n(37),o=n(38),u=n(39),s=[0,0];t.exports.computeMiter=function(t,e,n,o,c){return r(t,n,o),a(t,t),i(e,-t[1],t[0]),i(s,-n[1],n[0]),c/u(e,s)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return o(t,e,n),a(t,t),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),a=n(6),o=n.n(a),u=n(5),s=n.n(u),c=n(4),f=n.n(c),l=n(1),h=n.n(l),d=n(2),v=n.n(d),p=n(8),g=n.n(p);n(0).glMatrix.setMatrixArrayType(Array);var m='This page requires a browser that supports WebGL.<br/>\n<a href="http://get.webgl.org">Click here to upgrade your browser.</a>',x='It doesn\'t appear your computer can support WebGL.<br/>\n<a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>';function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array;if(null==t)return t;if(t instanceof e)return t;if(null==t[0]||null==t[0].length)return new e(t);for(var n=t[0].length,r=t.length,i=new e(n*r),a=0,o=0;o<r;o++)for(var u=0;u<n;u++)i[a++]=t[o][u];return i}var M={};function b(t){if(!M[t]){var e=new Image;e.crossOrigin="anonymous",M[t]=new Promise(function(n){e.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(e,{imageOrientation:"flipY"}).then(function(e){M[t]=e,n(e)}):(M[t]=e,n(e))},e.src=t})}return Promise.resolve(M[t])}var w="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvoid main() {\n  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);\n}";n(0).glMatrix.setMatrixArrayType(Array);var E={},O=Symbol("enableTextures"),_=Symbol("renderFrameID"),S={};function L(t){return k.apply(this,arguments)}function k(){return(k=o()(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!S[e]){t.next=2;break}return t.abrupt("return",S[e]);case 2:return t.next=4,fetch(e);case 4:if(!((n=t.sent).status>=200&&n.status<300)){t.next=11;break}return t.next=8,n.text();case 8:return r=t.sent,S[e]=r,t.abrupt("return",r);case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function A(t,e,n){return t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e),e}var R={int:"1i",ivec2:"2i",ivec3:"3i",ivec4:"4i",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",mat2:"Matrix2fv",mat3:"Matrix3fv",mat4:"Matrix4fv",sampler2D:"sampler2D"},T=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.options=Object.assign({},t.defaultOptions,n),this.canvas=e;var r=function(t,e){function n(e){var n=t.parentNode;n&&(n.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr>\n    <td align="center">\n    <div style="display: table-cell; vertical-align: middle;">\n    <div>'.concat(e,"</div>\n    </div>\n    </td></tr></table>"))}if(!window.WebGLRenderingContext)return n(m),null;var r=function(t,e){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null,i=0;i<n.length;++i){try{r=t.getContext(n[i],e)}catch(t){}if(r)break}return r}(t,e);return r||n(x),r}(e,this.options);this.gl=r,r.viewport(0,0,e.width,e.height),r.clearColor(1,1,1,1),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),this.textures=[],this.programs=[],this._events={}}var e,n,r;return f()(t,null,[{key:"addLibs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(E,t)}},{key:"FLOAT",value:function(t){return y(t)}},{key:"UNSIGNED_BYTE",value:function(t){return y(t,Uint8Array)}},{key:"UNSIGNED_SHORT",value:function(t){return y(t,Uint16Array)}},{key:"BYTE",value:function(t){return y(t,Int8Array)}},{key:"SHORT",value:function(t){return y(t,Int16Array)}}]),f()(t,[{key:"_setAttribute",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.gl,o=this.program;o._buffers[t]=o._buffers[t]||a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,o._buffers[t]),a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);var u=a.getAttribLocation(o,t);a.vertexAttribPointer(u,r,a[n],i,0,0),a.enableVertexAttribArray(u)}},{key:"_setTextureCoordinate",value:function(e){var n=this.gl,r=this.program;n.bindBuffer(n.ARRAY_BUFFER,r.texCoordBuffer),n.bufferData(n.ARRAY_BUFFER,t.FLOAT(e),n.STATIC_DRAW)}},{key:"_declareUniform",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1f",i=this.gl,a=i.getUniformLocation(t,e),o=this;if("sampler2D"===r){var u=t._samplerMap,s=t._bindTextures;Object.defineProperty(t.uniforms,e,{get:function(){return n},set:function(t){n=t;var r=null!=u[e]?u[e]:s.length;s[r]=t,A(i,t,r),u[e]||(u[e]=r,i.uniform1i(a,r)),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}else{var c=0===r.indexOf("Matrix"),f=!c&&/v$/.test(r),l=i["uniform".concat(r)].bind(i);Object.defineProperty(t.uniforms,e,{get:function(){return n},set:function(t){n=t,"number"==typeof t&&(t=[t]),c?l(a,!1,t):f?l(a,t):l.apply(void 0,[a].concat(v()(t))),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}}},{key:"_draw",value:function(){var t=this,e=this.program;e.meshData.forEach(function(n,r){t.trigger("beforedraw",{meshData:n,meshIndex:r});var i=n.positions,a=n.cells,o=n.attributes,u=n.uniforms,s=n.textureCoord,c=n.enableBlend,f=t.gl;if(c?f.enable(f.BLEND):f.disable(f.BLEND),f.bindBuffer(f.ARRAY_BUFFER,e.verticesBuffer),f.bufferData(f.ARRAY_BUFFER,i,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,e.cellsBuffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,a,f.STATIC_DRAW),o&&Object.entries(o).forEach(function(e){var n=h()(e,2),r=n[0],i=n[1];t._setAttribute(r,i.data,i.type,i.size,i.normalize)}),u&&Object.entries(u).forEach(function(e){var n=h()(e,2),r=n[0],i=n[1];t.uniforms[r]=i}),t[O]&&e.texCoordBuffer){var l=s||function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[],r=t.length,i=0;i<r;i++)i%e<2&&n.push(.5*(t[i]+1));return n}(i,e._dimension);t._setTextureCoordinate(l)}f.drawElements(f.TRIANGLES,a.length,f.UNSIGNED_SHORT,0),t.trigger("afterdraw",{meshData:n,meshIndex:r})})}},{key:"deleteProgram",value:function(t){var e=this.gl;this.program===t&&(this.startRender=!1,this[_]&&(cancelAnimationFrame(this[_]),delete this[_]),e.useProgram(null));var n=this.programs.indexOf(t);n>=0&&this.programs.splice(n,1),function(t,e){var n=e._buffers;Object.values(n).forEach(function(e){t.deleteBuffer(e)}),e._buffers={}}(e,t),e.deleteProgram(t)}},{key:"clearTextures",value:function(){var t=this.gl;this.textures.forEach(function(e){t.deleteTexture(e)}),this.textures=[]}},{key:"deleteTexture",value:function(t){var e=this.textures,n=e.indexOf(t);if(n>=0){var r=t._img;e.splice(n,1),this.gl.deleteTexture(t),"function"==typeof r.close&&r.close()}return t}},{key:"setMeshData",value:function(e){Array.isArray(e)||(e=[e]),this.program.meshData=e.map(function(e){var n=e.positions,r=e.cells,i=e.attributes,a=e.uniforms,o=e.textureCoord,u=e.enableBlend,s={positions:t.FLOAT(n),cells:t.USHORT(r),uniforms:a,enableBlend:!!u,textureCoord:t.FLOAT(o)};return i&&(Object.entries(i).forEach(function(e){var n,r,a=h()(e,2),o=a[0],u=a[1],s="FLOAT",c=!1;u.data?(n=u.data,c=!!u.normalize,s=u.type||"FLOAT",r=u.size):n=u,null==r&&(r=n[0].length||1),"UBYTE"===s&&(s="UNSIGNED_BYTE"),"USHORT"===s&&(s="UNSIGNED_SHORT"),Array.isArray(n)&&(n=t[s](n)),i[o]={data:n,type:s,size:r,normalize:c}}),s.attributes=i),s}),this.options.autoUpdate&&this.update()}},{key:"createProgram",value:function(t,e){var n=this;this[O]=/^\s*uniform\s+sampler2D/gm.test(t),null==t&&(t=w),null==e&&(e=this[O]?"attribute vec4 a_vertexPosition;\nattribute vec2 a_vertexTextureCoord;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = a_vertexPosition;\n  vTextureCoord = a_vertexTextureCoord;\n}":"attribute vec3 a_vertexPosition;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = vec4(a_vertexPosition, 1);\n}");var r=this.gl,i=function(t,e,n){var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(r));return console.error(i),-1}var a=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(a,n),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var o="Fragment shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(a));return console.error(o),-1}var u=t.createProgram();if(t.attachShader(u,r),t.attachShader(u,a),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS)){var s="Shader program failed to link.  The error log is:".concat(t.getProgramInfoLog(u));return console.error(s),-1}return t.deleteShader(r),t.deleteShader(a),u}(r,e,t);i.shaderText={vertexShader:e,fragmentShader:t},i._buffers={},i.uniforms={},i._samplerMap={},i._bindTextures=[];var a=new RegExp("attribute vec(\\d) ".concat(this.options.vertexPosition),"im"),o=e.match(a);o&&(i._dimension=Number(o[1]));var u=/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/gm;return(o=(o=e.match(u)||[]).concat(t.match(u)||[])).forEach(function(t){var e=t.match(/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/).slice(1),r=h()(e,3),a=r[0],o=r[1],u=r[2];u=!!u,0!==(a=R[a]).indexOf("Matrix")&&u&&(a+="v"),n._declareUniform(i,o,a)}),i.verticesBuffer=r.createBuffer(),i.cellsBuffer=r.createBuffer(),this.programs.push(i),i}},{key:"useProgram",value:function(t){this.startRender=!1,this[_]&&(cancelAnimationFrame(this[_]),delete this[_]);var e=this.gl;e.useProgram(t),this.program=t;var n=t._dimension;e.bindBuffer(e.ARRAY_BUFFER,t.verticesBuffer);var r=e.getAttribLocation(t,this.options.vertexPosition);if(e.vertexAttribPointer(r,n,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),this[O]){t.texCoordBuffer=t.texCoordBuffer||e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t.texCoordBuffer);var i=e.getAttribLocation(t,this.options.vertexTextureCoord);e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i)}if(!t.meshData){var a=[[-1,-1,0,1].slice(0,n),[1,-1,0,1].slice(0,n),[1,1,0,1].slice(0,n),[-1,1,0,1].slice(0,n)];this.setMeshData({positions:a,cells:[[0,1,3],[3,1,2]]})}return t}},{key:"compileSync",value:function(t,e){var n={};function r(t){var e=[],i=(t=t.replace(/^\s*/gm,"")).match(/^#pragma\s+include\s+.*/gm);if(i){for(var a=0;a<i.length;a++){var o=i[a].match(/(?:<|")(.*)(?:>|")/);if(o){var u=0===o[0].indexOf("<")?"lib":"link",s=o[1];if("graph"===s&&(s="graphics"),n[s])e.push("/* included ".concat(s," */"));else if(n[s]=!0,"lib"===u){var c=r(E[s]);e.push(c)}else if("link"===u)throw new Error("Cannot load external links synchronously. Use compile instead of compileSync.")}}e.forEach(function(e){t=t.replace(/^#pragma\s+include\s+.*/m,e)})}return t}var i=r(t=t||w),a=e?r(e):null;return this.createProgram(i,a)}},{key:"compile",value:(r=o()(i.a.mark(function t(e,n){var r,a,u,s,c,f;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=o()(i.a.mark(function t(e){var n,o,u,s,c,f,l,h,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e.replace(/^\s*/gm,""),n=[],!(o=e.match(/^#pragma\s+include\s+.*/gm))){t.next=36;break}u=0;case 5:if(!(u<o.length)){t.next=35;break}if(s=o[u],!(c=s.match(/(?:<|")(.*)(?:>|")/))){t.next=32;break}if(f=0===c[0].indexOf("<")?"lib":"link","graph"===(l=c[1])&&(l="graphics"),r[l]){t.next=31;break}if(r[l]=!0,"lib"!==f){t.next=21;break}return t.next=17,a(E[l]);case 17:h=t.sent,n.push(h),t.next=29;break;case 21:if("link"!==f){t.next=29;break}return t.next=24,L(l);case 24:return d=t.sent,t.next=27,a(d);case 27:d=t.sent,n.push(d);case 29:t.next=32;break;case 31:n.push("/* included ".concat(l," */"));case 32:u++,t.next=5;break;case 35:n.forEach(function(t){e=e.replace(/^#pragma\s+include\s+.*/m,t)});case 36:return t.abrupt("return",e);case 37:case"end":return t.stop()}},t)}))).apply(this,arguments)},a=function(t){return u.apply(this,arguments)},e=e||w,r={},t.next=6,a(e);case 6:if(s=t.sent,!n){t.next=13;break}return t.next=10,a(n);case 10:t.t0=t.sent,t.next=14;break;case 13:t.t0=null;case 14:return c=t.t0,f=this.createProgram(s,c),t.abrupt("return",f);case 17:case"end":return t.stop()}},t,this)})),function(t,e){return r.apply(this,arguments)})},{key:"load",value:(n=o()(i.a.mark(function t(e){var n,r=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,t.next=3,L(e);case 3:if(e=t.sent,!n){t.next=8;break}return t.next=7,L(n);case 7:n=t.sent;case 8:return t.abrupt("return",this.compile(e,n));case 9:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"createTexture",value:function(t){var e=this.gl;e.activeTexture(e.TEXTURE15);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n._img=t,this.textures.push(n),n}},{key:"loadTexture",value:(e=o()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:return n=t.sent,t.abrupt("return",this.createTexture(n));case 4:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"on",value:function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)}},{key:"once",value:function(t,e){return this.on(t,function n(){this.off(t,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,i)}),this}},{key:"off",value:function(t,e){if(e&&this._events[t]){var n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1)}else delete this._events[t]}},{key:"trigger",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._events[t]||[];r.forEach(function(r){r.call(e,Object.assign({target:e,type:t},n))})}},{key:"render",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.startRender=!0,this.trigger("beforeRender");var e=this.gl,n=this.program;n||(n=this.createProgram(),this.useProgram(n)),t&&e.clear(e.COLOR_BUFFER_BIT);var r=this[_];this._draw(),this[_]===r&&(this[_]=null),this.trigger("rendered")}},{key:"update",value:function(){this.startRender&&null==this[_]&&(this[_]=requestAnimationFrame(this.render.bind(this)))}},{key:"enableTextures",get:function(){return!!this[O]}},{key:"uniforms",get:function(){var t=this.program;if(!t||!t.uniforms)throw Error("No avaliable program.");return t.uniforms}}]),t}();g()(T,"defaultOptions",{preserveDrawingBuffer:!0,autoUpdate:!0,vertexPosition:"a_vertexPosition",vertexTextureCoord:"a_vertexTextureCoord"}),g()(T,"UBYTE",T.UNSIGNED_BYTE),g()(T,"USHORT",T.UNSIGNED_SHORT),g()(T,"fetchShader",L),n(0).glMatrix.setMatrixArrayType(Array);var D=T;function q(t){return"rgba(".concat(t.map(function(t,e){return e<3?Math.floor(255*t):t}).join(),")")}n(0).glMatrix.setMatrixArrayType(Array),n(0).glMatrix.setMatrixArrayType(Array);var U={};function C(t){if(!U[t]){var e=new Image;e.crossOrigin="anonymous",U[t]=new Promise(function(n){e.onload=function(){U[t]=e,n(e)},e.src=t})}return Promise.resolve(U[t])}n(0).glMatrix.setMatrixArrayType(Array);var I=function(){function t(e,n){s()(this,t),this.context=e.getContext("2d"),this.options=n}var e;return f()(t,[{key:"createTexture",value:function(t){return{_img:t}}},{key:"loadTexture",value:(e=o()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:return n=t.sent,t.abrupt("return",this.createTexture(n));case 4:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"deleteTexture",value:function(t){return t}},{key:"drawMeshes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.context;e&&n.clearRect(0,0,n.canvas.width,n.canvas.height),t.forEach(function(t){if(n.save(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.lineWidth,n.lineJoin=t.lineJoin,n.lineCap=t.lineCap,n.miterLimit=t.miterLimit,t.gradient&&t.gradient.stroke)){var e=t.gradient.stroke,r=e.vector,i=e.colors,a=n.createLinearGradient.apply(n,v()(r));i.forEach(function(t){var e=t.offset,n=q(t.color);a.addColorStop(e,n)}),n.strokeStyle=a}if(t.fillStyle&&(n.fillStyle=t.fillStyle,t.gradient&&t.gradient.fill)){var o=t.gradient.fill,u=o.vector,s=o.colors,c=n.createLinearGradient.apply(n,v()(u));s.forEach(function(t){var e=t.offset,n=q(t.color);c.addColorStop(e,n)}),n.fillStyle=c}n.setTransform.apply(n,v()(t.transformMatrix)),t.contours.forEach(function(e){var r=e.closed,i=e.length;if(e&&i>0){n.beginPath(),n.moveTo.apply(n,v()(e[0]));for(var a=1;a<i;a++)a===i-1&&r?n.closePath():n.lineTo.apply(n,v()(e[a]));if(t.fillStyle&&n.fill(),t.texture){var o=t.texture,u=o.image,s=o.options;s.repeat&&console.warn("Context 2D not supported image repeat yet.");var c=s.rect,f=s.srcRect;s.scale&&(c=[0,0,n.canvas.width,n.canvas.height]),f?n.drawImage.apply(n,[u].concat(v()(f),v()(c))):n.drawImage.apply(n,[u].concat(v()(c)))}t.strokeStyle&&n.stroke()}}),n.restore()})}}]),t}(),P="attribute vec3 a_vertexPosition;\n\nattribute vec4 a_color;\nvarying vec4 vColor;\n\nattribute vec2 a_vertexTextureCoord;\n\nvarying vec2 vTextureCoord;\nvarying float flagBackground;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = vec4(a_vertexPosition.xy, 1.0, 1.0);\n  \n  flagBackground = a_vertexPosition.z;\n  vColor = a_color;\n  vTextureCoord = a_vertexTextureCoord;\n}",F="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D u_texSampler;\nuniform int u_texFlag;\nuniform int u_repeat;\nuniform vec4 u_srcRect;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoord;\nvarying float flagBackground;\n\nvoid main() {\n  gl_FragColor = vColor;\n\n  vec2 texCoord = vTextureCoord;\n\n  if(u_repeat == 1) {\n    texCoord = fract(texCoord);\n  }\n\n  if(u_texFlag > 0 && flagBackground > 0.0 \n    && texCoord.x <= 1.0 && texCoord.x >= 0.0\n    && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\n    if(u_srcRect.z > 0.0) {\n      texCoord.x = u_srcRect.x + texCoord.x * u_srcRect.z;\n      texCoord.y = 1.0 - (u_srcRect.y + (1.0 - texCoord.y) * u_srcRect.w);\n    }\n    vec4 texColor = texture2D(u_texSampler, texCoord);\n    gl_FragColor = mix(vColor, texColor, texColor.a);\n    // gl_FragColor = texColor;\n  }\n}";function N(t){var e=[],n=[],r=[],i=[],a=0,o=t[0]&&t[0].uniforms||{};t.forEach(function(t){t&&(e.push.apply(e,v()(t.positions)),r.push.apply(r,v()(t.cells.map(function(t){return t.map(function(t){return t+a})}))),i.push.apply(i,v()(t.attributes.a_color)),t.textureCoord&&n.push.apply(n,v()(t.textureCoord)),a+=t.positions.length)});var u={positions:e,cells:r,attributes:{a_color:i},uniforms:o};return n.length&&(u.textureCoord=n),u}function B(t,e){var n=t.uniforms||{},r=e.uniforms||{},i=Object.keys(n),a=Object.keys(r);return i.length===a.length&&i.every(function(t){var e=n[t],i=r[t];if(e===i)return!0;if(e.length&&i.length&&e.length===i.length){for(var a=0;a<e.length;a++)if(e[a]!==i[a])return!1;return!0}return!1})}function H(t,e,n){if(t.length){var r=N(t);r.positions=D.FLOAT(r.positions),r.cells=D.USHORT(r.cells),r.textureCoord&&(r.textureCoord=D.FLOAT(r.textureCoord)),r.enableBlend=n,e.push(r),t.length=0}}function j(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,n=[],r=[],i=0,a=!1,o=0;o<t.length;o++){var u=t[o].meshData,s=0;if(u){if(i+(s=u.positions.length)>e)H(r,n,a),i=0,a=!1;else if(i){B(t[o-1].meshData,u)||(H(r,n,a),i=0,a=!1)}r.push(u),a=a||t[o].enableBlend}o===t.length-1?H(r,n,a):i+=s}return n}function z(t,e){if("string"==typeof t){var n=t.trim().match(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%)$/);t=n?{size:parseFloat(n[1]),unit:n[2]}:{size:parseInt(t,10),unit:"px"}}var r=t,i=r.size,a=r.unit;if("pt"===a)i/=.75;else if("pc"===a)i*=16;else if("in"===a)i*=96;else if("cm"===a)i*=96/2.54;else if("mm"===a)i*=96/25.4;else if("em"===a||"rem"===a||"ex"===a){if(!e&&"function"==typeof getComputedStyle&&"undefined"!=typeof document)e=z(getComputedStyle(document.documentElement).fontSize,16);i*=e,"ex"===a&&(i/=2)}else if("q"===a)i*=96/25.4/4;else if("vw"===a||"vh"===a){if("undefined"!=typeof document)i*=("vw"===a?document.documentElement.clientWidth:document.documentElement.clientHeight)/100}else if(("vmax"===a||"vmin"===a)&&"undefined"!=typeof document){var o=document.documentElement.clientWidth,u=document.documentElement.clientHeight;i*="vmax"===a?Math.max(o,u)/100:Math.min(o,u)/100}return i}n(0).glMatrix.setMatrixArrayType(Array),n(0).glMatrix.setMatrixArrayType(Array),n(0).glMatrix.setMatrixArrayType(Array);var G="px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%",W="'([^']+)'|\"([^\"]+)\"|([\\w-]|[-])+",V=new RegExp("(".concat("bold|bolder|lighter|[1-9]00",") +"),"i"),Y=new RegExp("(".concat("italic|oblique",") +"),"i"),X=new RegExp("(".concat("small-caps",") +"),"i"),Q=new RegExp("(".concat("ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",") +"),"i"),Z=new RegExp("([\\d\\.]+)("+G+")(?:\\/([\\d\\.]+)("+G+"))? *((?:"+W+")( *, *(?:"+W+"))*)");n(0).glMatrix.setMatrixArrayType(Array);var J=null;function $(t,e){var n=e.font,r=e.fillColor,i=e.strokeColor,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];J||(J=("function"==typeof OffscreenCanvas&&"function"==typeof createImageBitmap?new OffscreenCanvas(1,1):document.createElement("canvas")).getContext("2d")),J.save(),J.font=n;var o=J.measureText(t).width;J.restore();var u=function(t,e){var n=Z.exec(t);if(n){var r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(n[1]),unit:n[2],lineHeight:parseFloat(n[3])||1.2*parseFloat(n[1]),lineHeightUnit:n[4]||n[2],family:n[5].replace(/ *, */g,",")},i=t.substring(0,n.index),a=V.exec(i),o=Y.exec(i),u=X.exec(i),s=Q.exec(i);return a&&(r.weight=a[1]),o&&(r.style=o[1]),u&&(r.variant=u[1]),s&&(r.stretch=s[1]),r.pxHeight=z({size:r.size,unit:r.unit},e),r.pxLineHeight=z({size:r.lineHeight,unit:r.lineHeightUnit},e),r}}(n).pxLineHeight;r||i||(r="#000");var s=J.canvas;s.width=Math.ceil(o),s.height=Math.ceil(u),J.save(),J.font=n,J.textAlign="center",J.textBaseline="middle";var c=s.height/2,f=s.width/2;r&&(J.fillStyle=r,J.fillText(t,f,c)),i&&(J.strokeStyle=i,J.strokeText(t,f,c)),J.restore();var l=null;return s.transferToImageBitmap?(l=s.transferToImageBitmap(),a?createImageBitmap(l,{imageOrientation:"flipY"}):createImageBitmap(l)):((l=new Image).src=s.toDataURL("image/png"),l)}function K(t,e,n,r){var i=h()(t,3),a=i[0],o=i[1],u=i[2];return a=2*a/e-1,o=1-2*o/n,Number.isFinite(r)?[a,o,u=2*u/r-1]:[a,o]}function tt(t,e,n,r){var i=h()(t,3),a=i[0],o=i[1],u=i[2];return a=.5*(a+1)*e,o=.5*(1-o)*n,Number.isFinite(r)?[a,o,u=.5*(u+1)*r]:[a,o]}n(0).glMatrix.setMatrixArrayType(Array),n(0).glMatrix.setMatrixArrayType(Array);var et={autoUpdate:!1},nt=Symbol("glRenderer"),rt=Symbol("canvasRenderer"),it=Symbol("options"),at=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t);var r=n.contextType||"webgl";if("function"!=typeof WebGLRenderingContext&&(r="2d"),!e.getContext){var i=e;e={getContext:function(){return i},width:n.width,height:n.height},i.canvas=e,r="2d"}if(this.canvas=e,"webgl"!==r&&"2d"!==r)throw new Error("Unknown context type ".concat(r));if(n.contextType=r,this[it]=Object.assign({},et,n),"webgl"===r){var a=new D(e,this[it]),o=a.compileSync(F,P);a.useProgram(o);var u=document.createElement("canvas");u.width=1,u.height=1;var c=a.createTexture(u),f=a.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,c),f.blendFuncSeparate(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA,f.ZERO,f.ONE),this[nt]=a}else this[rt]=new I(e,this[it])}var e;return f()(t,[{key:"normalize",value:function(t,e){var n=this.canvas;return K([t,e],n.width,n.height)}},{key:"denormalize",value:function(t,e){var n=this.canvas;return tt([t,e],n.width,n.height)}},{key:"createText",value:(e=o()(i.a.mark(function t(e){var n,r,a,o,u,s,c,f,l=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=n.font,a=void 0===r?"16px arial":r,o=n.fillColor,u=void 0===o?null:o,s=n.strokeColor,c=void 0===s?null:s,t.next=3,$(e,{font:a,fillColor:u,strokeColor:c},"webgl"===this[it].contextType);case 3:return f=t.sent,t.abrupt("return",this.createTexture(f));case 5:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"createTexture",value:function(t){return(this[nt]||this[rt]).createTexture(t)}},{key:"loadTexture",value:function(t){return(this[nt]||this[rt]).loadTexture(t)}},{key:"deleteTexture",value:function(t){return(this[nt]||this[rt]).deleteTexture(t)}},{key:"drawMeshes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[nt]||this[rt];if(this[nt]){var r=j(t);n.setMeshData(r),n.options.autoUpdate||n.render(e)}else n.drawMeshes(t,e)}},{key:"options",get:function(){return this[it]}},{key:"glRenderer",get:function(){return this[nt]}},{key:"canvasRenderer",get:function(){return this[rt]}}]),t}(),ot=n(11),ut=n.n(ot),st=n(12),ct=n.n(st),ft=n(13),lt=n.n(ft),ht=n(7),dt=n.n(ht),vt=n(14),pt=n.n(vt);function gt(t,e){return"".concat(t).concat(e.join(" "))}n(0).glMatrix.setMatrixArrayType(Array);var mt=Symbol("contours"),xt=Symbol("path"),yt=Symbol("simplify"),Mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,t),"string"==typeof e&&(e={path:e}),this[xt]=e.path||"",this[mt]=null,this[yt]=e.simplify||0}return f()(t,[{key:"clear",value:function(){this[xt]="",this[mt]=null}},{key:"addPath",value:function(t){this[mt]=null,this[xt]+=t}},{key:"beginPath",value:function(){this.moveTo(0,0)}},{key:"moveTo",value:function(t,e){this[mt]=null,this[xt]+=gt("M",[t,e])}},{key:"lineTo",value:function(t,e){this[mt]=null,this[xt]+=gt("L",[t,e])}},{key:"arcTo",value:function(t,e,n,r,i,a,o){this[mt]=null,this[xt]+=gt("A",[t,e,n,r,i,a,o])}},{key:"arc",value:function(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=pt()(t,e,n,r,i,a),u=Math.abs(i-r),s="".concat(o.map(function(t){var e=h()(t,2),n=e[0],r=e[1];return"".concat(n," ").concat(r)}).join("L"));u<2*Math.PI?this[xt]+="M".concat(t," ").concat(e,"L").concat(s,"Z"):this[xt]+="M".concat(s)}},{key:"rect",value:function(t,e,n,r){this[xt]+="M".concat(t," ").concat(e,"L").concat(t+n," ").concat(e,"L").concat(t+n," ").concat(e+r,"L").concat(t," ").concat(e+r,"Z")}},{key:"quadraticCurveTo",value:function(t,e,n,r){this[mt]=null,this[xt]+=gt("Q",[t,e,n,r])}},{key:"bezierCurveTo",value:function(t,e,n,r,i,a){this[mt]=null,this[xt]+=gt("C",[t,e,n,r,i,a])}},{key:"closePath",value:function(){this[mt]=null,this[xt]+="Z"}},{key:"contours",get:function(){var t=this,e=null;return this[mt]?this[mt].map(function(t){return v()(t)}):(this[xt]&&(this[mt]=lt()(ut()(this[xt])).map(function(e){return ct()(e,t[yt])}),e=this[mt].map(function(t){return v()(t)})),/Z$/gi.test(this[xt])&&(e.closed=!0),e)}},{key:"boundingBox",get:function(){return dt()(this.contours)}},{key:"simplify",get:function(){return this[yt]}}]),t}(),bt=n(9),wt=n.n(bt),Et=n(15),Ot=n.n(Et),_t=n(0),St=n(10),Lt=n.n(St);function kt(t){return[t[0],t[1]]}n(0).glMatrix.setMatrixArrayType(Array);var At=_t.vec2.copy,Rt=_t.vec2.scaleAndAdd,Tt=_t.vec2.dot;n(0).glMatrix.setMatrixArrayType(Array);var Dt=[0,0],qt=[0,0],Ut=[0,0],Ct=[0,0],It=[0,0],Pt=[0,0],Ft=n(34),Nt=Ft.computeMiter,Bt=Ft.normal,Ht=Ft.direction;function jt(t){if(!(this instanceof jt))return new jt(t);t=t||{},this.miterLimit=Lt()(t.miterLimit,10),this.thickness=Lt()(t.thickness,1),this.join=t.join||"miter",this.cap=t.cap||"butt",this._normal=null,this._lastFlip=-1,this._started=!1}function zt(t,e,n,r){Rt(Dt,e,n,-r),t.push(kt(Dt)),Rt(Dt,e,n,r),t.push(kt(Dt))}jt.prototype.mapThickness=function(t,e,n){return this.thickness},jt.prototype.build=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={positions:[],cells:[]};if(t.length<=1)return n;if(e){var r=h()(t,2),i=r[0],a=r[1],o=[a[0]-i[0],a[1]-i[1]],u=Rt([0,0],i,o,1e-7);t.push(u)}var s=t.length;this._lastFlip=-1,this._started=!1,this._normal=null;for(var c=1,f=0;c<s;c++){var l=t[c-1],d=t[c],v=c<t.length-1?t[c+1]:null,p=this.mapThickness(d,c,t),g=this._seg(n,f,l,d,v,p/2);f+=g}return n},jt.prototype._seg=function(t,e,n,r,i,a){var o=0,u=t.cells,s=t.positions,c="square"===this.cap,f="bevel"===this.join;if(Ht(Ut,r,n),this._normal||(this._normal=[0,0],Bt(this._normal,Ut)),this._started||(this._started=!0,c&&(Rt(qt,n,Ut,-a),n=qt),zt(s,n,this._normal,a)),u.push([e+0,e+1,e+2]),i){Ht(Ct,i,r);var l=Nt(It,Pt,Ut,Ct,a);l=Math.min(l,1e20);var h=Tt(It,this._normal)<0?-1:1,d=f;if(!d&&"miter"===this.join)l/a>this.miterLimit&&(d=!0);d?(Rt(Dt,r,this._normal,-a*h),s.push(kt(Dt)),Rt(Dt,r,Pt,l*h),s.push(kt(Dt)),u.push(this._lastFlip!==-h?[e,e+2,e+3]:[e+2,e+1,e+3]),u.push([e+2,e+3,e+4]),Bt(Dt,Ct),At(this._normal,Dt),Rt(Dt,r,Dt,-a*h),s.push(kt(Dt)),o+=3):(zt(s,r,Pt,l),u.push(1===this._lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3]),h=-1,At(this._normal,Pt),o+=2),this._lastFlip=h}else Bt(this._normal,Ut),c&&(Rt(qt,r,Ut,a),r=qt),zt(s,r,this._normal,a),u.push(1===this._lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3]),o+=2;return o};var Gt=jt;n(0).glMatrix.setMatrixArrayType(Array);var Wt=Symbol("mesh"),Vt=Symbol("contours"),Yt=Symbol("stroke"),Xt=Symbol("fill"),Qt=Symbol("bound"),Zt=Symbol("strokeColor"),Jt=Symbol("fillColor"),$t=Symbol("transform"),Kt=Symbol("uniforms"),te=Symbol("texOptions"),ee=Symbol("enableBlend"),ne=Symbol("applyTransform"),re=Symbol("boundingBox"),ie=Symbol("gradient");function ae(t,e,n,r,i){var a=tt(t,n,r),o=h()(a,2),u=o[0],s=o[1];return t[0]=u*e[0]+s*e[2]+e[4],t[1]=u*e[1]+s*e[3]+e[5],i&&(t[1]=r-t[1]),t}function oe(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}function ue(t,e,n){var r=h()(t,2),i=r[0],a=r[1],o=h()(e,4),u=o[0],s=o[1],c=o[2],f=o[3],l=n.scale;n.repeat;return l||(i/=c,a=1-(1-a)/f,i-=u,a+=s),[i,a]}var se=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:150,height:150},r=n.width,i=n.height;s()(this,t),this[Vt]=e.contours,this[Yt]=null,this[Xt]=null,this[Qt]=[[0,0],[r,i]],this[$t]=[1,0,0,1,0,0],this[Kt]={}}return f()(t,[{key:"setStroke",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.thickness,n=void 0===e?1:e,r=t.cap,i=void 0===r?"butt":r,a=t.join,o=void 0===a?"miter":a,u=t.miterLimit,s=void 0===u?10:u,c=t.color,f=void 0===c?[0,0,0,0]:c;this[Wt]=null,this[Yt]=Gt({thickness:n,cap:i,join:o,miterLimit:s}),this[Zt]=f,this[ee]=f[3]<1}},{key:"setFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delaunay,n=void 0===e||e,r=t.clean,i=void 0===r||r,a=t.randomization,o=void 0===a?0:a,u=t.color,s=void 0===u?[0,0,0,0]:u;this[Wt]=null,this[Xt]={delaunay:n,clean:i,randomization:o},this[Jt]=s,this[ee]=s[3]<1}},{key:"setTransform",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this[$t];return this[$t]=e,e=_t.mat2d.multiply(Array.of(0,0,0,0,0,0),e,_t.mat2d.invert(Array.of(0,0,0,0,0,0),r)),this[ne](e)}},{key:"transform",value:function(){for(var t=this[$t],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this[$t]=_t.mat2d.multiply(Array.of(0,0,0,0,0,0),n,t),this[ne](n)}},{key:"translate",value:function(t,e){var n=_t.mat2d.create();return n=_t.mat2d.translate(Array.of(0,0,0,0,0,0),n,[t,e]),this.transform.apply(this,v()(n))}},{key:"rotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],n=h()(e,2),r=n[0],i=n[1],a=_t.mat2d.create();return a=_t.mat2d.translate(Array.of(0,0,0,0,0,0),a,[r,i]),a=_t.mat2d.rotate(Array.of(0,0,0,0,0,0),a,t),a=_t.mat2d.translate(Array.of(0,0,0,0,0,0),a,[-r,-i]),this.transform.apply(this,v()(a))}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=h()(n,2),i=r[0],a=r[1],o=_t.mat2d.create();return o=_t.mat2d.translate(Array.of(0,0,0,0,0,0),o,[i,a]),o=_t.mat2d.scale(Array.of(0,0,0,0,0,0),o,[t,e]),o=_t.mat2d.translate(Array.of(0,0,0,0,0,0),o,[-i,-a]),this.transform.apply(this,v()(o))}},{key:"skew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=h()(n,2),i=r[0],a=r[1],o=_t.mat2d.create();return o=_t.mat2d.translate(Array.of(0,0,0,0,0,0),o,[i,a]),o=_t.mat2d.multiply(Array.of(0,0,0,0,0,0),o,_t.mat2d.fromValues(1,Math.tan(e),Math.tan(t),1,0,0)),o=_t.mat2d.translate(Array.of(0,0,0,0,0,0),o,[-i,-a]),this.transform.apply(this,v()(o))}},{key:ne,value:function(t){if(this[Wt]){for(var e=this[Wt].positions,n=h()(this[Qt][1],2),r=n[0],i=n[1],a=0;a<e.length;a++){ae(e[a],t,r,i,!0)}return wt()(e,this[Qt]),this}}},{key:"isPointCollision",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",r=h()(this[Qt][1],2),i=r[0],a=r[1],o=K([t,e],i,a),u=h()(o,2);t=u[0],e=u[1];var s=this.meshData,c=s.positions,f=s.cells;function l(t,e,n){var r=h()(t,2),i=r[0],a=r[1],o=h()(e,2),u=o[0],s=o[1],c=h()(n,2),f=c[0]-u,l=c[1]-s,d=((i-u)*f+(a-s)*l)/(Math.pow(f,2)+Math.pow(l,2));return d>=0&&d<=1}for(var d=0;d<f.length;d++){var v=f[d];if("fill"===n&&v[0]>=s.fillPointCount)break;if(!("stroke"===n&&v[0]<s.fillPointCount)){var p=v.map(function(t){return c[t]}),g=h()(p,3),m=h()(g[0],2),x=m[0],y=m[1],M=h()(g[1],2),b=M[0],w=M[1],E=h()(g[2],2),O=E[0],_=E[1],S=Math.sign((t-x)*(w-y)-(b-x)*(e-y));if(0===S&&l([t,e],[x,y],[b,w]))return!0;var L=Math.sign((t-b)*(_-w)-(O-b)*(e-w));if(0===L&&l([t,e],[b,w],[O,_]))return!0;var k=Math.sign((t-O)*(y-_)-(x-O)*(e-_));if(0===k&&l([t,e],[O,_],[x,y]))return!0;if(S===L&&S===k)return!0}}return!1}},{key:"isPointInPath",value:function(t,e){return this.isPointCollision(t,e,"fill")}},{key:"isPointInStroke",value:function(t,e){return this.isPointCollision(t,e,"stroke")}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this[Kt],t)}},{key:"setTexture",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this[Xt]||this.setFill(),this.setUniforms({u_texFlag:1,u_texSampler:t}),this[te]=n;var r=this.meshData,i=this[$t],a=t._img,o=a.width,u=a.height,s=n.rect||[0,0,o,u];null==s[2]&&(s[2]=o),null==s[3]&&(s[3]=u);var c=h()(this[Qt][1],2),f=c[0],l=c[1];if(oe(i))r.textureCoord=r.positions.map(function(t){var n=h()(t,3),r=n[0],i=n[1];if(n[2]>0){var a=[.5*(r+1),.5*(i+1)];return ue([r=a[0],i=a[1]],[s[0]/o,s[1]/u,s[2]/f,s[3]/l],e[te])}return[0,0]});else{var d=_t.mat2d.invert(Array.of(0,0,0,0,0,0),i);r.textureCoord=r.positions.map(function(t){var n=h()(t,3),r=n[0],i=n[1];if(n[2]>0){var a=ae([r,i],d,f,l,!0),c=h()(a,2);r=c[0],i=c[1];var v=[r/f,i/l];return ue([r=v[0],i=v[1]],[s[0]/o,s[1]/u,s[2]/f,s[3]/l],e[te])}return[0,0]})}var v=n.srcRect;if(v){var p=[v[0]/o,v[1]/u,v[2]/o,v[2]/u];this[Kt].u_srcRect=p}n.repeat?this[Kt].u_repeat=1:this[Kt].u_repeat=0}},{key:"setLinearGradient",value:function(t){var e=t.vector,n=t.colors,r=t.type,i=void 0===r?"fill":r;"fill"!==i||this[Xt]||this.setFill(),"stroke"!==i||this[Yt]||this.setStroke(),this[ie]=this[ie]||{},this[ie][i]={vector:e,colors:n,type:i};var a=this.meshData,o=a.positions,u=a.fillPointCount,s=this.meshData.attributes.a_color;n.sort(function(t,e){return t.offset-e.offset}),"fill"===i?(o=o.slice(0,u),s=s.slice(0,u)):(o=o.slice(u),s=s.slice(u));var c=h()(this[Qt][1],2),f=c[0],l=c[1],d=_t.mat2d.invert(Array.of(0,0,0,0,0,0),this[$t]);function v(t,e,n,r){var i=1-r;return t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t}for(var p=0;p<o.length;p++)for(var g=ae(o[p].slice(0,2),d,f,l,!1),m=h()(g,2),x=m[0],y=m[1],M=s[p],b=[x-e[0],y-e[1]],w=[e[2]-e[0],e[3]-e[1]],E=(b[0]*w[0]+b[1]*w[1])/(Math.pow(w[0],2)+Math.pow(w[1],2)),O=n.length,_=0;_<O;_++){var S=n[_],L=S.offset,k=S.color;if(E<=L){if(0===_)v(M,k,k,1);else{var A=n[_-1],R=A.color,T=A.offset;v(M,R,k,(E-T)/(L-T))}break}_===O-1&&v(M,k,k,1)}}},{key:"contours",get:function(){return this[Vt]}},{key:"boundingBox",get:function(){if(this[Wt]&&this[re])return this[re];var t=this.meshData;if(t){var e=t.positions,n=_t.mat2d.invert(Array.of(0,0,0,0,0,0),this[$t]),r=h()(this[Qt][1],2),i=r[0],a=r[1];return e=e.map(function(t){var e=h()(t,2);return ae([e[0],e[1]],n,i,a,!1)}),this[re]=dt()(e),this[re]}return null}},{key:"boundingCenter",get:function(){var t=this.boundingBox;return t?[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])]:null}},{key:"lineWidth",get:function(){return this[Yt]?this[Yt].thickness:null}},{key:"lineCap",get:function(){return this[Yt]?this[Yt].cap:null}},{key:"lineJoin",get:function(){return this[Yt]?this[Yt].join:null}},{key:"miterLimit",get:function(){return this[Yt]?this[Yt].miterLimit:null}},{key:"strokeStyle",get:function(){return this[Zt]?q(this[Zt]):null}},{key:"fillStyle",get:function(){return this[Jt]?q(this[Jt]):null}},{key:"gradient",get:function(){return this[ie]}},{key:"texture",get:function(){return this[Kt].u_texSampler?{image:this[Kt].u_texSampler._img,options:this[te]}:null}},{key:"enableBlend",get:function(){return this[ee]}},{key:"uniforms",get:function(){return this[Kt]}},{key:"transformMatrix",get:function(){return this[$t]}},{key:"meshData",get:function(){var t=this;if(this[Wt])return this[Wt];if(!this[Xt]&&!this[Yt])return null;var e=this[Vt],n={};if(e&&e.length){if(this[Xt]){var r=Ot()(e);r.positions=r.positions.map(function(e){return e[1]=t[Qt][1][1]-e[1],e.push(1),e}),r.attributes={a_color:Array.from({length:r.positions.length}).map(function(){return v()(t[Jt])})},n.fill=r}if(this[Yt]){var i=e.closed,a=e.length,o=e.map(function(e,n){return i&&n===a-1?t[Yt].build(v()(e),!0):t[Yt].build(e)});o.forEach(function(e){e.positions=e.positions.map(function(e){return e[1]=t[Qt][1][1]-e[1],e.push(0),e}),e.attributes={a_color:Array.from({length:e.positions.length}).map(function(){return v()(t[Zt])})}}),n.stroke=N(o)}}var u=N([n.fill,n.stroke]);u.fillPointCount=n.fill?n.fill.positions.length:0,wt()(u.positions,this[Qt]),this[Kt].u_texSampler||(u.textureCoord=u.positions.map(function(){return[0,0]})),u.uniforms=this[Kt],u.uniforms.u_texFlag||(u.uniforms.u_texFlag=0),this[Wt]=u;var s=this[$t];return oe(s)||this[ne](s),this[Wt]}}]),t}();n.d(e,"Renderer",function(){return at}),n.d(e,"Figure2D",function(){return Mt}),n.d(e,"Mesh2D",function(){return se}),n(0).glMatrix.setMatrixArrayType(Array)}])});